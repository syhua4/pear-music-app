(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-4feca4f2"],{"15a7":function(t,e,n){},"17b0":function(t,e,n){"use strict";var s=n("bc44"),a=n.n(s);a.a},"28e0":function(t,e,n){"use strict";var s=n("dcee"),a=n.n(s);a.a},"2b29":function(t,e,n){},"5a86":function(t,e,n){"use strict";n.d(e,"a",(function(){return a})),n.d(e,"d",(function(){return i})),n.d(e,"e",(function(){return o})),n.d(e,"c",(function(){return r})),n.d(e,"b",(function(){return c}));var s=n("3311");function a(t){return Object(s["a"])({url:"/artists/",params:{id:t}})}function i(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:-1,e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:-1,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;return Object(s["a"])({url:"/artist/list",params:{type:t,area:e,offset:n}})}function o(t){return Object(s["a"])({url:"/artist/top/song",params:{id:t}})}function r(t){return Object(s["a"])({url:"/artist/desc",params:{id:t}})}function c(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:20;return Object(s["a"])({url:"/artist/album",params:{id:t,limit:e}})}},"8dda":function(t,e,n){"use strict";var s=n("f5c9"),a=n.n(s);a.a},"937d":function(t,e,n){"use strict";n.r(e);var s=function(){var t=this,e=t.$createElement,n=t._self._c||e;return t.artistInfo.length?n("div",{staticClass:"artist-info"},[n("nav-bar",{staticClass:"nav"},[n("i",{staticClass:"iconfont icon-back",attrs:{slot:"left"},on:{click:t.goBack},slot:"left"})]),n("scroll-view",{ref:"scrollView",attrs:{height:"20%"}},[n("div",{staticClass:"cover",style:{"--height":t.coverHeight+"px"},attrs:{slot:"cover"},slot:"cover"},[n("img",{attrs:{src:t.fmtUrl(t.artistInfo[0].avatar)}}),n("div",{staticClass:"name"},[t._v(t._s(t.artistInfo[0].name))]),n("div",{staticClass:"follow-wrapper"},[t.artistInfo[0].follows?n("span",[t._v("关注 "+t._s(t.artistInfo[0].follows))]):t._e(),t.artistInfo[0].followeds?n("span",[t._v("粉丝 "+t._s(t._f("round")(t.artistInfo[0].followeds,1)))]):t._e()])]),n("div",{staticClass:"tabbar",attrs:{slot:"tab"},slot:"tab"},t._l(t.tabbar,(function(e,s){return n("span",{key:e,class:{active:s===t.activeTab},on:{click:function(e){return e.stopPropagation(),t.tabClick(s)}}},[t._v(t._s(e))])})),0),n("div",{staticClass:"component-wrapper ",attrs:{slot:"component"},slot:"component"},[n("loading",{attrs:{isShow:t.loading}}),n(t.currentComponent,{ref:"comp",tag:"component",attrs:{id:t.id},on:{noData:t.noData,contentLoaded:t.contentLoaded,addToList:t.addToList,showMore:t.showMore}})],1)]),n("more-song-options",{directives:[{name:"show",rawName:"v-show",value:Object.keys(t.song).length,expression:"Object.keys(song).length"}],ref:"trackPopUp",attrs:{song:t.song}})],1):t._e()},a=[],i=(n("b0c0"),n("a9e3"),n("96cf"),n("1da1")),o=function(){var t=this,e=t.$createElement,n=t._self._c||e;return t.songs&&t.songs.length?n("div",{staticClass:"artist-top-song"},[n("div",{staticClass:"song-tools"},[n("div",{staticClass:"playall",on:{click:function(e){return e.stopPropagation(),t.play(e)}}},[n("i",{staticClass:"iconfont icon-play"}),n("span",[t._v("播放热门50")])]),n("div",{staticClass:"collection",on:{click:function(e){return e.stopPropagation(),t.addToList(e)}}},[n("i",{staticClass:"iconfont icon-folder"}),n("span",[t._v("收藏热门50")])])]),t._l(t.songs,(function(e,s){return n("div",{key:e.id,staticClass:"song-wrapper"},[n("song-view",[n("div",{staticClass:"index",attrs:{slot:"left"},slot:"left"},[t._v(t._s(s+1))]),n("div",{staticClass:"song-info",attrs:{slot:"center"},on:{click:function(e){return e.stopPropagation(),t.play(s)}},slot:"center"},[n("div",{staticClass:"name"},[t._v(t._s(e.name))]),n("span",{staticClass:"album"},[t._v(" "+t._s(e.al.name)+" ")])]),n("i",{staticClass:"iconfont icon-more--line",attrs:{slot:"right"},on:{click:function(n){return n.stopPropagation(),t.showMore(e)}},slot:"right"})])],1)}))],2):t._e()},r=[],c=n("5a86"),l=n("c6fb"),u=n("eecb"),f={name:"ArtistTopSongs",components:{SongView:l["a"]},mixins:[u["f"]],created:function(){var t=this;Object(c["e"])(this.id).then((function(e){t.songs=e.songs}))},data:function(){return{songs:[]}},props:{id:{type:Number,default:0,required:!0}},methods:{addToList:function(){this.$emit("addToList")},play:function(t){this.playSong(this.songs,t)},showMore:function(t){this.$emit("showMore",t)}},watch:{songs:{handler:function(){this.$nextTick((function(){this.$emit("contentLoaded")}))}}}},d=f,p=(n("9972"),n("2877")),h=Object(p["a"])(d,o,r,!1,null,"89ec9c68",null),m=h.exports,v=function(){var t=this,e=t.$createElement,n=t._self._c||e;return t.albums&&t.albums.length?n("div",{staticClass:"artist-album"},t._l(t.albums,(function(e){return n("div",{key:e.id,staticClass:"album-wrapper",on:{click:function(n){return t.albumClick(e.id)}}},[n("song-view",[n("img",{directives:[{name:"lazy",rawName:"v-lazy",value:t.fmtUrl(e.picUrl),expression:"fmtUrl(album.picUrl)"}],attrs:{slot:"left"},slot:"left"}),n("div",{staticClass:"album-info",attrs:{slot:"center"},slot:"center"},[n("div",{staticClass:"title"},[t._v(" "+t._s(e.name)+" ")]),n("span",{staticClass:"pubDate"},[t._v(t._s(t.getDate(e.publishTime))+" ")]),n("span",{staticClass:"count"},[t._v(t._s(e.size)+"首")])])])],1)})),0):t._e()},b=[],g=(n("99af"),n("2909")),w=n("90b9"),_={name:"ArtistAlbum",components:{SongView:l["a"]},mixins:[u["d"]],data:function(){return{albums:[]}},props:{id:{type:Number,default:0,required:!0}},created:function(){var t=this;return Object(i["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,Object(c["b"])(t.id).then((function(e){var n=e.artist.albumSize;Object(c["b"])(t.id,n).then((function(e){return t.albums=e.hotAlbums}))}));case 2:case"end":return e.stop()}}),e)})))()},computed:{getDate:function(){return function(t){var e=Object(w["b"])(t/1e3);return"".concat(e.year,"-").concat(e.month,"-").concat(e.date)}}},methods:{albumClick:function(t){this.$router.push("/album/".concat(t))},loadMoreAlbum:function(){var t=this,e=this.albums.length;Object(c["b"])(this.$route.params.id,e).then((function(e){var n;(e.more||e.hotAlbums.length)&&(n=t.albums).push.apply(n,Object(g["a"])(e.hotAlbums))}))}},watch:{albums:{handler:function(){this.$nextTick((function(){this.$emit("contentLoaded")}))}}}},C=_,k=(n("8dda"),Object(p["a"])(C,v,b,!1,null,"281dbf16",null)),$=k.exports,x=function(){var t=this,e=t.$createElement,n=t._self._c||e;return t.desc?n("div",{staticClass:"artist-profile"},[n("div",{staticClass:"header"},[t._v("歌手简介")]),n("div",{staticClass:"desc"},[t._v(t._s(t.desc))])]):t._e()},O=[],j={name:"ArtistProfile",created:function(){var t=this;Object(c["c"])(this.id).then((function(e){t.desc=e.briefDesc}))},data:function(){return{desc:""}},props:{id:{type:Number,default:0,required:!0}},watch:{desc:{handler:function(){this.$nextTick((function(){this.$emit("contentLoaded")}))}}}},y=j,I=(n("cc83"),Object(p["a"])(y,x,O,!1,null,"48e4fa66",null)),T=I.exports,L=n("e47a"),A=n("95c7"),M=n("6ae1"),P=n("d324"),S={name:"ArtistInfo",components:{NavBar:L["a"],ScrollView:A["a"],MoreSongOptions:M["a"]},mixins:[u["d"],u["g"],u["e"],u["c"]],data:function(){return{artistInfo:[],tabbar:["歌曲","专辑","关于TA"],activeTab:0,coverHeight:0,id:0,song:{}}},created:function(){var t=this;return Object(i["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(t.id=Number(t.$route.params.id),!t.$route.params.uid){e.next=5;break}t.userInfo(t.$route.params.uid),e.next=7;break;case 5:return e.next=7,Object(c["a"])(t.id).then((function(e){e.artist.accountId?(console.log(e.artist.accountId),console.log("有 uid"),t.userInfo(e.artist.accountId)):(console.log("没有 uid"),t.artistInfo.push({name:e.artist.name,avatar:e.artist.img1v1Url}))}));case 7:case"end":return e.stop()}}),e)})))()},updated:function(){this.coverHeight=this.$refs.scrollView.$refs.cover.clientHeight},methods:{showMore:function(t){this.song=t,this.$refs.trackPopUp.showMore=!0},addToList:function(){var t=this.$refs&&this.$refs.comp&&this.$refs.comp.songs&&this.$refs.comp.songs.length&&this.$refs.comp.songs;if(t.length){this.song=t[0];var e=this.getTrackIds(t);this.$refs.trackPopUp.selectPlaylist("",e)}},contentLoaded:function(){this.loading=!1},goBack:function(){this.$router.go(-1)},noData:function(t){this.loading=t},userInfo:function(t){var e=this;return Object(i["a"])(regeneratorRuntime.mark((function n(){return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return n.next=2,Object(P["g"])(t).then((function(t){console.log(t),e.artistInfo.push({name:t.profile.artistName,avatar:t.profile.avatarUrl,followeds:t.profile.followeds||null,follows:t.profile.follows||null})}));case 2:case"end":return n.stop()}}),n)})))()},tabClick:function(t){this.activeTab=t,this.loading=!0},loadMore:function(){var t=this;return Object(i["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(1!==t.activeTab){e.next=4;break}return e.next=3,t.$refs.comp.loadMoreAlbum();case 3:t.$refs.scroll.finishPullUp();case 4:case"end":return e.stop()}}),e)})))()}},computed:{currentComponent:function(){var t;switch(this.activeTab){case 0:t=m;break;case 1:t=$;break;case 2:t=T;break}return t}}},U=S,N=(n("28e0"),Object(p["a"])(U,s,a,!1,null,"1c1e9db4",null));e["default"]=N.exports},"95c7":function(t,e,n){"use strict";var s=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"scroll-view",style:{"--height":t.height}},[n("div",{ref:"cover",staticClass:"cover"},[t._t("cover")],2),n("div",{staticClass:"tools"},[t._t("tab"),n("div",{staticClass:"left-tool"},[t._t("left")],2),n("div",{staticClass:"right-tool"},[t._t("right")],2)],2),n("scroll",[t._t("component")],2)],1)},a=[],i=n("8d33"),o={name:"ScrollView",components:{Scroll:i["a"]},props:{height:{type:String,default:"35%"}}},r=o,c=(n("17b0"),n("2877")),l=Object(c["a"])(r,s,a,!1,null,"970440dc",null);e["a"]=l.exports},9972:function(t,e,n){"use strict";var s=n("2b29"),a=n.n(s);a.a},bc44:function(t,e,n){},cc83:function(t,e,n){"use strict";var s=n("15a7"),a=n.n(s);a.a},dcee:function(t,e,n){},f5c9:function(t,e,n){}}]);