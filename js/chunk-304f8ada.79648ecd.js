(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-304f8ada"],{"039b":function(t,e,a){"use strict";var s=a("b483"),n=a.n(s);n.a},"33c7":function(t,e,a){"use strict";var s=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"tabnav"},[a("swiper",{attrs:{options:t.options}},t._l(t.titles,(function(e,s){return a("swiper-item",{key:e,staticClass:"slide"},[a("a",{staticClass:"tabnav",class:{active:s===t.tabIndex},on:{click:function(e){return e.stopPropagation(),t.tabClick(s)}}},[a("span",{staticClass:"tabnav-text"},[t._v(t._s(e))])])])})),1),t._t("more")],2)},n=[],i=(a("a9e3"),a("d1aa")),r={name:"SearchTabNav",components:{Swiper:i["a"],SwiperItem:i["b"]},props:{titles:{type:Array,default:function(){return[]},required:!0},tabIndex:{type:Number,default:0,required:!0}},data:function(){return{options:{autoplay:"",slidesPerView:"5.3",freeMode:!0}}},methods:{tabClick:function(t){this.$emit("tabClick",t)}}},l=r,c=(a("c9c4"),a("2877")),o=Object(c["a"])(l,s,n,!1,null,"0bb6501c",null);e["a"]=o.exports},"3bac":function(t,e,a){"use strict";a.r(e);var s=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"playlist-square"},[a("nav-bar",{staticClass:"nav"},[a("i",{staticClass:"iconfont icon-back",attrs:{slot:"left"},on:{click:t.goBack},slot:"left"}),a("div",{staticClass:"nav-header",attrs:{slot:"center"},slot:"center"},[t._v("歌单广场")])]),a("tab-nav",{staticClass:"tab",attrs:{titles:t.getTabNavTitles,tabIndex:t.tabNavIndex},on:{tabClick:t.tabClick}},[a("i",{staticClass:"icon-category iconfont",attrs:{slot:"more"},on:{click:t.clickMore},slot:"more"})]),t.loading?a("loading",{attrs:{isShow:t.loading}}):a("scroll",{ref:"scroll",attrs:{pullUpload:!0},on:{pullUpload:t.loadMore}},[0===t.tabNavIndex&&t.category[t.tabNavIndex].list.playlists?a("carousel",{attrs:{results:t.category[t.tabNavIndex].list.playlists.slice(0,3)}}):t._e(),t.category[t.tabNavIndex].list.playlists?a("grid",{attrs:{results:0!==t.tabNavIndex?t.category[t.tabNavIndex].list.playlists:t.category[t.tabNavIndex].list.playlists.slice(3)}}):t._e()],1),a("transition",{attrs:{name:"right"}},[a("router-view")],1)],1)},n=[],i=(a("d81d"),a("fb6a"),a("b0c0"),a("2909")),r=(a("96cf"),a("1da1")),l=a("e879"),c=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"playlist-carousel"},[a("swiper",{attrs:{options:t.options}},t._l(t.results,(function(e){return a("swiper-item",{key:e.id},[a("div",{staticClass:"wrapper",on:{click:function(a){return t.goPlaylist(e.id)}}},[a("div",{staticClass:"img-wrapper"},[a("img",{attrs:{src:t.fmtUrl(e.coverImgUrl)}}),a("i",{staticClass:"iconfont icon-play-btn"})]),a("div",{staticClass:"title"},[t._v(t._s(e.name))])])])})),1)],1)},o=[],u=a("d1aa"),p=a("eecb"),d={name:"PlaylistSlider",components:{Swiper:u["a"],SwiperItem:u["b"]},mixins:[p["d"]],data:function(){return{options:{autoplay:"",effect:"coverflow",loop:!0,slidesPerView:3,centeredSlides:!0,coverflowEffect:{rotate:0,stretch:0,depth:200,modifier:1}}}},props:{results:{type:Array,default:function(){return[]},required:!0}},methods:{goPlaylist:function(t){console.log("111"),this.$router.push("/playlists/".concat(t))}}},f=d,v=(a("039b"),a("2877")),m=Object(v["a"])(f,c,o,!1,null,"7eaced62",null),b=m.exports,y=a("e47a"),g=a("8d33"),h=a("33c7"),w=a("5d86"),x={name:"PlaylistSquare",components:{Grid:l["a"],Carousel:b,NavBar:y["a"],Scroll:g["a"],TabNav:h["a"]},mixins:[p["e"]],created:function(){var t=this;return Object(r["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,Object(w["e"])(t.category[0].name,33).then((function(e){t.category[0].list=e}));case 2:t.category.slice(1).map((function(t){Object(w["e"])(t.name).then((function(e){t.list=e}))}));case 3:case"end":return e.stop()}}),e)})))()},data:function(){return{category:[{name:"流行",list:[]},{name:"华语",list:[]},{name:"摇滚",list:[]},{name:"学习",list:[]},{name:"怀旧",list:[]},{name:"综艺",list:[]}],tabNavIndex:0,transitionName:""}},methods:{clickMore:function(){console.log("11111"),this.$router.push({name:"playlist-category",params:{title:this.getTabNavTitles}})},goBack:function(){this.$router.push({path:"/recommend"})},tabClick:function(t){console.log(t),this.tabNavIndex=t,this.$refs.scroll&&this.$refs.scroll.scrollTo(0,0),this.$refs.scroll&&this.$refs.scroll.refresh()},loadMore:function(){var t=this;return Object(r["a"])(regeneratorRuntime.mark((function e(){var a,s;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return a=t.category[t.tabNavIndex].name,s=t.category[t.tabNavIndex].list.playlists.length,e.next=4,Object(w["e"])(a,30,s).then((function(e){var a;e.more||e.playlists.length?((a=t.category[t.tabNavIndex].list.playlists).push.apply(a,Object(i["a"])(e.playlists)),console.log(t.category[t.tabNavIndex]),console.log("数据请求完毕")):(t.$refs.scroll.loading=!1,console.log("没有数据了"))}));case 4:t.$refs.scroll.finishPullUp();case 5:case"end":return e.stop()}}),e)})))()}},beforeRouteUpdate:function(t,e,a){"/playlists/category"===t.path&&(t.meta.titles=this.getTabNavTitles),"/playlists/category"===e.path&&"number"===typeof e.meta.activeTab&&(this.tabNavIndex=e.meta.activeTab),a()},computed:{getTabNavTitles:function(){var t=this.category.map((function(t){return t.name}));return t}},watch:{category:{deep:!0,handler:function(){this.$nextTick((function(){this.loading=!1}))}}}},C=x,k=(a("758a"),Object(v["a"])(C,s,n,!1,null,"62468945",null));e["default"]=k.exports},"5c14":function(t,e,a){},"758a":function(t,e,a){"use strict";var s=a("c531"),n=a.n(s);n.a},"9f24":function(t,e,a){},b483:function(t,e,a){},c531:function(t,e,a){},c9c4:function(t,e,a){"use strict";var s=a("5c14"),n=a.n(s);n.a},e4a1:function(t,e,a){"use strict";var s=a("9f24"),n=a.n(s);n.a},e879:function(t,e,a){"use strict";var s=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"playlist-grid"},[a("div",{staticClass:"grid-wrapper"},t._l(t.results,(function(e){return a("div",{key:e.id,staticClass:"playlist-wrapper",on:{click:function(a){return a.stopPropagation(),t.goPlaylist(e.id)}}},[a("div",{staticClass:"img-wrapper"},[a("img",{directives:[{name:"lazy",rawName:"v-lazy",value:t.fmtUrl(e.coverImgUrl),expression:"fmtUrl(item.coverImgUrl)"}]}),a("span",{staticClass:"count iconfont"},[t._v(t._s("")+t._s(t._f("round")(e.playCount)))])]),a("div",{staticClass:"title"},[t._v(t._s(e.name))])])})),0)])},n=[],i=a("eecb"),r={name:"PlaylistGridView",mixins:[i["g"],i["d"]],props:{results:{type:Array,default:function(){return[]},required:!0}},methods:{goPlaylist:function(t){this.$router.push("/playlists/".concat(t))}}},l=r,c=(a("e4a1"),a("2877")),o=Object(c["a"])(l,s,n,!1,null,"2abe71e5",null);e["a"]=o.exports}}]);