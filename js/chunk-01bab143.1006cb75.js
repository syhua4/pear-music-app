(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-01bab143"],{"1eb9":function(t,e,s){"use strict";var a=s("d122"),i=s.n(a);i.a},"1ff5":function(t,e,s){},5549:function(t,e,s){},"60e7":function(t,e,s){"use strict";var a=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"banner"},[t.banners&&t.banners.length>0?s("swiper",{ref:"banner",attrs:{options:t.options}},t._l(t.banners,(function(e,a){return s("swiper-item",{key:e.id||e.targetId+a},[s("a",[s("img",{staticClass:"banner-img",attrs:{src:t.fmtUrl(e.pic)}})])])})),1):t._e()],1)},i=[],n=s("d1aa"),r=s("eecb"),c={name:"Banner",mixins:[r["d"]],components:{Swiper:n["a"],SwiperItem:n["b"]},props:{banners:{type:Array,default:function(){return[]},required:!0}},data:function(){return{options:{loop:!0,pagination:{el:".swiper-pagination",dynamicBullets:!0}}}},activated:function(){this.$refs.banner&&this.$refs.banner.$refs.mySwiper.$swiper.autoplay.start()},deactivated:function(){this.$refs.banner.$refs.mySwiper.$swiper.autoplay.stop()}},o=c,l=(s("858e"),s("2877")),u=Object(l["a"])(o,a,i,!1,null,"537a8576",null);e["a"]=u.exports},"63f5":function(t,e,s){"use strict";var a=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"search-bar"},[s("input",{directives:[{name:"model",rawName:"v-model",value:t.query,expression:"query"}],ref:"query",staticClass:"iconfont",style:{textAlign:t.isDisabled},attrs:{type:"text",placeholder:" 搜索",disabled:t.disable},domProps:{value:t.query},on:{keyup:[function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.querySubmit(e)},t.querySuggest],input:function(e){e.target.composing||(t.query=e.target.value)}}}),t._t("clear-search")],2)},i=[],n=s("90b9"),r={name:"SearchBar",props:{disable:{type:Boolean,default:!1},value:{type:String,default:""}},data:function(){return{query:""}},computed:{isDisabled:function(){var t;return t=this.disable?"center":"left",t}},methods:{querySubmit:function(){this.$emit("submit",this.query)},querySuggest:Object(n["a"])((function(){this.$emit("suggest",this.query)}),800)},watch:{value:function(t){console.log(t),this.query=t}}},c=r,o=(s("dc55"),s("2877")),l=Object(o["a"])(c,a,i,!1,null,"25c841b2",null);e["a"]=l.exports},"858e":function(t,e,s){"use strict";var a=s("1ff5"),i=s.n(a);i.a},8753:function(t,e,s){},a3cb:function(t,e,s){"use strict";s.r(e);var a=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{attrs:{id:"recommend-view"}},[s("nav-bar",{staticClass:"main-nav"},[s("i",{staticClass:"iconfont icon-listen",attrs:{slot:"left"},slot:"left"}),s("div",{staticClass:"header",attrs:{slot:"center"},on:{click:t.searchBarClick},slot:"center"},[s("search-bar",{attrs:{disable:!0}})],1)]),s("scroll",{ref:"scroll"},[s("div",{staticClass:"banner-wrapper"},[s("banner",{ref:"banner",attrs:{banners:t.banners}})],1),s("tab-nav"),s("slider-display",{staticClass:"playlist",attrs:{items:t.asiaPop,title:"华语精选站"},on:{itemClick:t.playlistClick}},[s("div",{staticClass:"more",attrs:{slot:"more"},on:{click:function(e){return e.stopPropagation(),t.goPlaylist(e)}},slot:"more"},[t._v("查看更多")])]),s("slider-display",{staticClass:"tracks",attrs:{items:t.tracks,title:"欧美流行",isSong:!0},on:{playSong:t.playSongUrl}},[s("div",{staticClass:"more",attrs:{slot:"more"},on:{click:function(e){return e.stopPropagation(),t.play(e)}},slot:"more"},[s("i",{staticClass:"iconfont icon-play-s"}),t._v(" 播放全部 ")])]),s("slider-display",{staticClass:"playlist",attrs:{items:t.kpop,title:"百听不厌的KPOP"},on:{itemClick:t.playlistClick}},[s("div",{staticClass:"more",attrs:{slot:"more"},on:{click:function(e){return e.stopPropagation(),t.goPlaylist(e)}},slot:"more"},[t._v("查看更多")])])],1),s("transition",{attrs:{name:t.transitionName}},[s("router-view")],1)],1)},i=[],n=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"recommend-tabnav"},[s("swiper",{attrs:{options:t.options}},[s("swiper-item",{staticClass:"slide"},[s("router-link",{staticClass:"tabnav",attrs:{to:"/recommend/songs"}},[s("div",{staticClass:"tabnav-icon"},[s("span",{staticClass:"date"},[t._v(t._s(t.date))]),s("i",{staticClass:"iconfont icon-calender"})]),s("span",{staticClass:"tabnav-text"},[t._v("每日推荐")])])],1),s("swiper-item",{staticClass:"slide"},[s("router-link",{staticClass:"tabnav",attrs:{to:"/playlists"}},[s("i",{staticClass:"iconfont icon-playlist"}),s("span",{staticClass:"tabnav-text"},[t._v("歌单")])])],1),s("swiper-item",{staticClass:"slide"},[s("router-link",{staticClass:"tabnav",attrs:{to:"/toplist"}},[s("i",{staticClass:"iconfont icon-top"}),s("span",{staticClass:"tabnav-text"},[t._v("排行榜")])])],1),s("swiper-item",{staticClass:"slide"},[s("router-link",{staticClass:"tabnav",attrs:{to:"/artist"}},[s("i",{staticClass:"iconfont icon-artist-fill"}),s("span",{staticClass:"tabnav-text"},[t._v("歌手")])])],1),s("swiper-item",{staticClass:"slide"},[s("a",{staticClass:"tabnav",on:{click:t.noFunc}},[s("i",{staticClass:"iconfont icon-stream"}),s("span",{staticClass:"tabnav-text"},[t._v("直播")])])]),s("swiper-item",{staticClass:"slide"},[s("a",{staticClass:"tabnav",on:{click:t.noFunc}},[s("i",{staticClass:"iconfont icon-digi-album"}),s("span",{staticClass:"tabnav-text"},[t._v("数字专辑")])])])],1)],1)},r=[],c=(s("0d03"),s("d1aa")),o={name:"RecommendTabNav",components:{Swiper:c["a"],SwiperItem:c["b"]},data:function(){return{options:{autoplay:"",slidesPerView:"4.5",freeMode:!0}}},computed:{date:function(){return(new Date).getDate()}},methods:{noFunc:function(){this.$toast.show("功能还没完成哦",1e3)}}},l=o,u=(s("e2be"),s("2877")),p=Object(u["a"])(l,n,r,!1,null,"a98805ae",null),d=p.exports,m=s("8d33"),f=s("e47a"),v=s("60e7"),b=s("cc3f"),y=s("63f5"),C=s("5d86"),h=s("eecb"),g={name:"Recommend",components:{Banner:v["a"],NavBar:f["a"],TabNav:d,SliderDisplay:b["a"],SearchBar:y["a"],Scroll:m["a"]},mixins:[h["c"],h["f"]],created:function(){var t=this;console.log("--recommend page loaded-"),Object(C["a"])(2).then((function(e){return t.banners=e.banners})),Object(C["e"])("华语",6).then((function(e){return t.asiaPop=e.playlists})),Object(C["e"])("韩语",6).then((function(e){return t.kpop=e.playlists})),Object(C["e"])("欧美",1).then((function(e){Object(C["d"])(e.playlists[0].id).then((function(e){var s=t.getTrackIds(e.playlist.trackIds,12);Object(C["j"])(s).then((function(e){t.tracks=e.songs}))}))}))},data:function(){return{banners:[],asiaPop:[],kpop:[],coverUrl:"",transitionName:""}},methods:{goPlaylist:function(){this.$router.push("/playlists")},play:function(){this.playSong(this.tracks)},playlistClick:function(t){this.$router.push("/playlists/".concat(t))},searchBarClick:function(){this.$router.push("/search")},playSongUrl:function(t){this.coverUrl=t}},beforeRouteUpdate:function(t,e,s){0===t.meta.index&&e.matched.length,this.transitionName="right",s()}},w=g,k=(s("d6ac"),Object(u["a"])(w,a,i,!1,null,"525c7e86",null));e["default"]=k.exports},c009:function(t,e,s){},cc3f:function(t,e,s){"use strict";var a=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"slide-display"},[s("div",{staticClass:"header"},[s("div",{staticClass:"title"},[t._v(t._s(t.title))]),t._t("more")],2),t.items&&t.items.length>0?s("swiper",{ref:"banner",attrs:{options:t.options}},t._l(t.items,(function(e,a){return s("swiper-item",{key:e.id},[t.isSong?t._e():s("a",{staticClass:"swiper-item-wrapper",on:{click:function(s){return t.itemClick(e.id)}}},[s("img",{directives:[{name:"lazy",rawName:"v-lazy",value:t.fmtUrl(e.coverImgUrl),expression:"fmtUrl(item.coverImgUrl)"}],staticClass:"swiper-item-img"}),s("span",{staticClass:"swiper-item-text"},[t._v(t._s(e.name))]),e.playCount?s("span",{staticClass:"swiper-item-playcount"},[s("i",{staticClass:"iconfont icon-play-s"}),t._v(" "+t._s(t._f("round")(e.playCount))+" ")]):t._e()]),t.isSong?s("a",{staticClass:"swiper-item-wrapper",on:{click:function(e){return t.play(a)}}},[s("img",{directives:[{name:"lazy",rawName:"v-lazy",value:t.fmtUrl(e.al.picUrl),expression:"fmtUrl(item.al.picUrl)"}],staticClass:"swiper-item-img"}),s("div",{staticClass:"swiper-item-desc"},[s("span",{staticClass:"swiper-item-text"},[t._v(t._s(e.name))]),e.ar?s("div",{staticClass:"swiper-item-author"},[s("span",[t._v(t._s(t.artists(e.ar)))])]):t._e()]),e.ar&&e.al?s("i",{staticClass:"iconfont",class:t.changeIcon?t.changeIcon:"icon-play"}):t._e()]):t._e()])})),1):t._e()],1)},i=[],n=(s("96cf"),s("1da1")),r=s("d1aa"),c=s("eecb"),o=s("5d86"),l={name:"SliderDisplay",mixins:[c["g"],c["b"],c["d"],c["f"],c["c"]],components:{Swiper:r["a"],SwiperItem:r["b"]},props:{items:{type:Array,default:function(){return[]}},title:{type:String,default:""},isSong:{type:Boolean,default:!1},changeIcon:{type:String,default:""},sliderOption:{type:Object,default:function(){}}},data:function(){return{songClicked:!1,options:this.isSong?Object.assign({freemode:!0,autoplay:"",slidesPerView:1.1,slidesPerColumn:3},this.sliderOption):{freemode:!0,autoplay:"",slidesPerView:3.3,spaceBetween:30}}},methods:{itemClick:function(t){this.$emit("itemClick",t)},play:function(t){var e=this;return Object(n["a"])(regeneratorRuntime.mark((function s(){var a;return regeneratorRuntime.wrap((function(s){while(1)switch(s.prev=s.next){case 0:if(!e.$parent.$parent.historyList){s.next=6;break}return a=e.getTrackIds(e.items),s.next=4,Object(o["j"])(a).then((function(s){e.playSong(s.songs,t)}));case 4:s.next=7;break;case 6:e.playSong(e.items,t);case 7:case"end":return s.stop()}}),s)})))()}}},u=l,p=(s("1eb9"),s("2877")),d=Object(p["a"])(u,a,i,!1,null,"27e738c8",null);e["a"]=d.exports},d122:function(t,e,s){},d6ac:function(t,e,s){"use strict";var a=s("c009"),i=s.n(a);i.a},dc55:function(t,e,s){"use strict";var a=s("5549"),i=s.n(a);i.a},e2be:function(t,e,s){"use strict";var a=s("8753"),i=s.n(a);i.a}}]);