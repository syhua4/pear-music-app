(function(t){function e(e){for(var i,s,r=e[0],c=e[1],l=e[2],u=0,d=[];u<r.length;u++)s=r[u],Object.prototype.hasOwnProperty.call(a,s)&&a[s]&&d.push(a[s][0]),a[s]=0;for(i in c)Object.prototype.hasOwnProperty.call(c,i)&&(t[i]=c[i]);f&&f(e);while(d.length)d.shift()();return o.push.apply(o,l||[]),n()}function n(){for(var t,e=0;e<o.length;e++){for(var n=o[e],i=!0,s=1;s<n.length;s++){var r=n[s];0!==a[r]&&(i=!1)}i&&(o.splice(e--,1),t=c(c.s=n[0]))}return t}var i={},s={app:0},a={app:0},o=[];function r(t){return c.p+"js/"+({}[t]||t)+"."+{"chunk-0cdbbbde":"26b8e5e3","chunk-0f6a54c6":"cae90dad","chunk-21e8da79":"b5c9dff1","chunk-2d0e9952":"a181d84a","chunk-36e4781a":"45e92794","chunk-3cf34bbb":"254d86b7","chunk-3f9b6ab4":"1e0d5837","chunk-01bab143":"1006cb75","chunk-09281478":"8950e74a","chunk-304f8ada":"79648ecd","chunk-4e910b9f":"d0d506b4","chunk-f8b92056":"b44b7820","chunk-4feca4f2":"f3dc7b3a","chunk-5c7b4871":"d9f31a5f","chunk-7228dac2":"8b1759e0","chunk-72db2e66":"46c9135f","chunk-a6fc34ac":"6e2c5dcb","chunk-eea8591a":"ac8925ec"}[t]+".js"}function c(e){if(i[e])return i[e].exports;var n=i[e]={i:e,l:!1,exports:{}};return t[e].call(n.exports,n,n.exports,c),n.l=!0,n.exports}c.e=function(t){var e=[],n={"chunk-0cdbbbde":1,"chunk-0f6a54c6":1,"chunk-21e8da79":1,"chunk-36e4781a":1,"chunk-3cf34bbb":1,"chunk-3f9b6ab4":1,"chunk-01bab143":1,"chunk-09281478":1,"chunk-304f8ada":1,"chunk-4e910b9f":1,"chunk-f8b92056":1,"chunk-4feca4f2":1,"chunk-5c7b4871":1,"chunk-7228dac2":1,"chunk-72db2e66":1,"chunk-a6fc34ac":1,"chunk-eea8591a":1};s[t]?e.push(s[t]):0!==s[t]&&n[t]&&e.push(s[t]=new Promise((function(e,n){for(var i="css/"+({}[t]||t)+"."+{"chunk-0cdbbbde":"17c961c5","chunk-0f6a54c6":"fad2be7d","chunk-21e8da79":"eb912de7","chunk-2d0e9952":"31d6cfe0","chunk-36e4781a":"c75db2b6","chunk-3cf34bbb":"2336fac6","chunk-3f9b6ab4":"48d9fbf5","chunk-01bab143":"d3c55459","chunk-09281478":"5626c291","chunk-304f8ada":"2ccb684c","chunk-4e910b9f":"1bf211c8","chunk-f8b92056":"e5091f0b","chunk-4feca4f2":"2641a6b2","chunk-5c7b4871":"10844978","chunk-7228dac2":"64c20792","chunk-72db2e66":"10bc5f97","chunk-a6fc34ac":"3e391dca","chunk-eea8591a":"dc14b641"}[t]+".css",a=c.p+i,o=document.getElementsByTagName("link"),r=0;r<o.length;r++){var l=o[r],u=l.getAttribute("data-href")||l.getAttribute("href");if("stylesheet"===l.rel&&(u===i||u===a))return e()}var d=document.getElementsByTagName("style");for(r=0;r<d.length;r++){l=d[r],u=l.getAttribute("data-href");if(u===i||u===a)return e()}var f=document.createElement("link");f.rel="stylesheet",f.type="text/css",f.onload=e,f.onerror=function(e){var i=e&&e.target&&e.target.src||a,o=new Error("Loading CSS chunk "+t+" failed.\n("+i+")");o.code="CSS_CHUNK_LOAD_FAILED",o.request=i,delete s[t],f.parentNode.removeChild(f),n(o)},f.href=a;var h=document.getElementsByTagName("head")[0];h.appendChild(f)})).then((function(){s[t]=0})));var i=a[t];if(0!==i)if(i)e.push(i[2]);else{var o=new Promise((function(e,n){i=a[t]=[e,n]}));e.push(i[2]=o);var l,u=document.createElement("script");u.charset="utf-8",u.timeout=120,c.nc&&u.setAttribute("nonce",c.nc),u.src=r(t);var d=new Error;l=function(e){u.onerror=u.onload=null,clearTimeout(f);var n=a[t];if(0!==n){if(n){var i=e&&("load"===e.type?"missing":e.type),s=e&&e.target&&e.target.src;d.message="Loading chunk "+t+" failed.\n("+i+": "+s+")",d.name="ChunkLoadError",d.type=i,d.request=s,n[1](d)}a[t]=void 0}};var f=setTimeout((function(){l({type:"timeout",target:u})}),12e4);u.onerror=u.onload=l,document.head.appendChild(u)}return Promise.all(e)},c.m=t,c.c=i,c.d=function(t,e,n){c.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:n})},c.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},c.t=function(t,e){if(1&e&&(t=c(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var n=Object.create(null);if(c.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var i in t)c.d(n,i,function(e){return t[e]}.bind(null,i));return n},c.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return c.d(e,"a",e),e},c.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},c.p="",c.oe=function(t){throw console.error(t),t};var l=window["webpackJsonp"]=window["webpackJsonp"]||[],u=l.push.bind(l);l.push=e,l=l.slice();for(var d=0;d<l.length;d++)e(l[d]);var f=u;o.push([0,"chunk-vendors"]),n()})({0:function(t,e,n){t.exports=n("56d7")},"00f5":function(t,e,n){},"0b86":function(t,e,n){"use strict";var i=n("4824"),s=n.n(i);s.a},1014:function(t,e,n){},"158a":function(t,e,n){},"192c":function(t,e,n){"use strict";var i=n("f292"),s=n.n(i);s.a},"2ea5":function(t,e,n){},3311:function(t,e,n){"use strict";n.d(e,"a",(function(){return a}));var i=n("bc3a"),s=n.n(i);function a(t){var e=s.a.create({baseURL:"https://pearmusic.online",timeout:3e4,withCredentials:!0});return e.interceptors.request.use((function(t){return t}),(function(t){return t})),e.interceptors.response.use((function(t){return t.data}),(function(t){return t})),e(t)}},3645:function(t,e,n){"use strict";var i=n("dcf5"),s=n.n(i);s.a},3849:function(t,e,n){},"453c":function(t,e,n){"use strict";var i=n("c161"),s=n.n(i);s.a},4824:function(t,e,n){},"4d18":function(t,e,n){"use strict";var i=n("be06"),s=n.n(i);s.a},"521d":function(t,e,n){"use strict";var i=n("6dda"),s=n.n(i);s.a},"56d7":function(t,e,n){"use strict";n.r(e);n("e260"),n("e6cf"),n("cca6"),n("a79d");var i=n("2b0e"),s=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{attrs:{id:"app"}},[n("transition",{attrs:{name:t.transitionName}},[n("keep-alive",{attrs:{include:t.keepAliveComp}},[n("router-view",{staticClass:"router"})],1)],1),n("player",{staticClass:"player"}),n("tab-bar",{staticClass:"main-tab"})],1)},a=[],o=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{attrs:{id:"tabbar"}},[n("tab-bar",[n("tab-bar-item",{attrs:{path:"/recommend"}},[n("i",{staticClass:"iconfont icon-logo ",attrs:{slot:"tabbar-icon"},slot:"tabbar-icon"}),n("div",{staticClass:"item-text",attrs:{slot:"tabbar-text"},slot:"tabbar-text"},[t._v("发现")])]),n("tab-bar-item",{attrs:{path:"/user"}},[n("i",{staticClass:"iconfont icon-music",attrs:{slot:"tabbar-icon"},slot:"tabbar-icon"}),n("div",{staticClass:"item-text",attrs:{slot:"tabbar-text"},slot:"tabbar-text"},[t._v("我的")])]),n("tab-bar-item",{attrs:{path:"/radio"}},[n("i",{staticClass:"iconfont icon-radio",attrs:{slot:"tabbar-icon"},slot:"tabbar-icon"}),n("div",{staticClass:"item-text",attrs:{slot:"tabbar-text"},slot:"tabbar-text"},[t._v("电台")])]),n("tab-bar-item",{attrs:{path:"/account"}},[n("i",{staticClass:"iconfont icon-user",attrs:{slot:"tabbar-icon"},slot:"tabbar-icon"}),n("div",{staticClass:"item-text",attrs:{slot:"tabbar-text"},slot:"tabbar-text"},[t._v("账号")])])],1)],1)},r=[],c=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"tabbar"},[t._t("default")],2)},l=[],u={name:"TabBar"},d=u,f=(n("6c1b"),n("2877")),h=Object(f["a"])(d,c,l,!1,null,"bdcf3118",null),p=h.exports,g=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"tabbar-item"},[n("router-link",{attrs:{to:t.path}},[t._t("tabbar-icon"),t._t("tabbar-text")],2)],1)},m=[],b={name:"TabBarItem",props:{path:{type:String,default:"/recommend",required:!0}}},v=b,y=(n("7b72"),Object(f["a"])(v,g,m,!1,null,"18385fe2",null)),k=y.exports,P={name:"MainTabBar",components:{TabBar:p,TabBarItem:k}},w=P,C=(n("e561"),Object(f["a"])(w,o,r,!1,null,"a044aff4",null)),x=C.exports,O=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("transition",{attrs:{css:!1},on:{enter:t.enter,leave:t.leave}},[n("div",{directives:[{name:"show",rawName:"v-show",value:t.showPlayer,expression:"showPlayer"}],ref:"player",staticClass:"player",style:t.bgVar,on:{click:t.screenClick}},[n("div",{directives:[{name:"show",rawName:"v-show",value:!t.isLoading,expression:"!isLoading"}]},[n("audio",{ref:"audio",attrs:{src:t.song,preload:"auto"},on:{timeupdate:t.timeUpdate,ended:t.end}})]),n("nav-bar",{staticClass:"player-nav",attrs:{isDisabled:!0}},[n("i",{staticClass:"iconfont icon-back",attrs:{slot:"left"},on:{click:t.goBack},slot:"left"}),n("div",{staticClass:"header",attrs:{slot:"center"},slot:"center"},[n("span",{staticClass:"track-name"},[t._v(t._s(t.currentPlaying&&t.currentPlaying.name))]),n("span",{staticClass:"track-artist"},[t._v(t._s(t.currentPlaying&&t.artists(t.currentPlaying.ar)))])]),n("i",{staticClass:"iconfont icon-share",attrs:{slot:"right"},on:{click:function(e){return e.stopPropagation(),t.share(e)}},slot:"right"})]),n("player-cd",{ref:"cd",attrs:{bgColor:t.bgColor}}),n("player-toolbar",{on:{recommend:t.recommend,showMore:t.moreOption}}),n("player-controls",{ref:"controls",attrs:{totalTime:t.totalTime,currentTime:t.currentTime,ready:t.ready},on:{toggleSonglist:t.toggleSonglist,changeProgress:t.changeProgress}}),n("transition",{attrs:{name:"slide"}},[t.songlistToggler?n("player-songlist",{ref:"songlist",staticClass:"songlist",on:{toggleSonglist:t.toggleSonglist,addToList:t.addToList}}):t._e()],1),n("transition",{attrs:{name:"right"}},[t.showRecommend?n("sim-recommend",{attrs:{id:t.currentPlaying.id},on:{closeRecommend:t.recommend}}):t._e()],1),n("more-song-options",{directives:[{name:"show",rawName:"v-show",value:t.currentPlaying&&Object.keys(t.currentPlaying).length,expression:"currentPlaying && Object.keys(currentPlaying).length"}],ref:"trackPopUp",attrs:{song:t.currentPlaying},on:{minimizePlayer:t.minimizePlayer}})],1)])},j=[],I=(n("c740"),n("caad"),n("fb6a"),n("b64b"),n("2532"),n("96cf"),n("1da1")),A=n("5530"),_=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{ref:"cd-wrapper",staticClass:"player-cd-wrapper"},[n("div",{ref:"cd",staticClass:"cd",class:t.isPlaying?null:"paused",style:[{width:.6*t.width+"px",height:.6*t.width+"px","--color":t.bgColor,"--display":t.showAnimation}]},[n("div",{staticClass:"cover"},[n("img",{directives:[{name:"lazy",rawName:"v-lazy",value:t.currentPlaying&&t.fmtUrl(t.currentPlaying.al?t.currentPlaying.al.picUrl:t.currentPlaying.album.picUrl),expression:"\n          currentPlaying &&\n            fmtUrl(currentPlaying.al ? currentPlaying.al.picUrl : currentPlaying.album.picUrl)\n        "}]})])])])},E=[],T=n("2f62"),B=n("eecb"),S={name:"PlayerCD",mixins:[B["d"]],data:function(){return{width:window.innerWidth}},computed:Object(A["a"])(Object(A["a"])({},Object(T["c"])(["isPlaying","showPlayer","currentPlaying"])),{},{playerOn:function(){return this.isPlaying&&this.showPlayer},showAnimation:function(){var t=this.$refs&&this.$refs.cd&&this.$refs.cd.classList&&2===this.$refs.cd.classList.length;return t||this.playerOn?"block":"none"}}),props:{bgColor:{type:String,default:"white",required:!0}}},M=S,R=(n("521d"),Object(f["a"])(M,_,E,!1,null,"0a1cd9fe",null)),U=R.exports,L=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"player-toolbar"},[n("i",{staticClass:"iconfont",class:t.like?"icon-heart-filled":"icon-heart",on:{click:t.toggleFavourite}}),n("i",{staticClass:"iconfont icon-comment",on:{click:function(e){return e.stopPropagation(),t.noFunc(e)}}}),n("i",{staticClass:"iconfont icon-sim-rec",on:{click:function(e){return e.stopPropagation(),t.moreRecommend(e)}}}),n("i",{staticClass:"iconfont icon-more--line",on:{click:function(e){return e.stopPropagation(),t.showPopup(e)}}})])},Q=[],D=n("d324"),N={name:"PlayerToolbar",data:function(){return{like:!1}},methods:{moreRecommend:function(){console.log("object"),Object.keys(this.currentPlaying).length&&this.$emit("recommend",this.currentPlaying.id)},noFunc:function(){this.$toast.show("功能还没完成哦",1e3)},showPopup:function(){this.$emit("showMore")},toggleFavourite:function(){var t=this;return Object(I["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(!t.isLogin){e.next=5;break}return e.next=3,Object(D["h"])(t.currentPlaying.id,!t.like,t.cookie).then((function(e){200===e.code&&(t.like=!t.like,t.like?t.$toast.show("添加至我喜欢",1e3):t.$toast.show("已删除我喜欢",1e3))}));case 3:e.next=6;break;case 5:t.$toast.show("请先登录",1e3);case 6:case"end":return e.stop()}}),e)})))()}},computed:Object(A["a"])({},Object(T["c"])(["currentPlaying","favouriteList","profile","cookie","isLogin"])),watch:{currentPlaying:{deep:!0,immediate:!0,handler:function(t){var e=this;this.isLogin&&t&&Object(D["e"])(this.profile.uid,this.cookie).then((function(n){var i=n.ids.findIndex((function(e){return e===t.id}));e.like=!(i<0)}))}}}},$=N,G=(n("574f"),Object(f["a"])($,L,Q,!1,null,"be6aa552",null)),z=G.exports,F=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"player-control"},[n("div",{staticClass:"track-bar"},[n("span",{ref:"currentTime",staticClass:"minutes"},[t._v(t._s(t.curTime))]),n("div",{ref:"progressBar",staticClass:"bar"},[n("div",{ref:"progress",staticClass:"bar-top",style:{width:t.playedPercent}},[n("div",{ref:"dot",staticClass:"dot",class:{loading:!t.ready},on:{touchstart:function(e){return e.preventDefault(),t.touchstart(e)},touchmove:function(e){return e.preventDefault(),t.touchmove(e)},touchend:t.touchend}})])]),n("span",{ref:"totalTime",staticClass:"minutes"},[t._v(t._s(t.totTime))])]),n("div",{staticClass:"audio-controls"},[n("i",{staticClass:"iconfont",class:t.mode,on:{click:t.changeMode}}),n("i",{staticClass:"iconfont icon-play-back",on:{click:t.playBefore}}),n("div",{on:{click:t.play}},[n("i",{staticClass:"iconfont",class:t.isPlaying?"icon-pause":"icon-play-btn"})]),n("i",{staticClass:"iconfont icon-play-next",on:{click:t.playNext}}),n("i",{staticClass:"iconfont icon-songlist",on:{click:function(e){return e.stopPropagation(),t.toggleSonglist(e)}}})])])},Z=[],V=(n("99af"),n("a9e3"),n("b680"),n("90b9")),Y={name:"PlayerControls",mixins:[B["a"]],data:function(){return{audio:null,loop:!1,playedPercent:"0",curTime:"00:00",totTime:"00:00",touch:{}}},props:{currentTime:{type:Number,default:0,required:!0},totalTime:{type:Number,default:0,required:!0},ready:{type:Boolean,default:!1,required:!0}},methods:Object(A["a"])(Object(A["a"])({},Object(T["b"])(["setPlayStatus","setCurrentIndex","setShowPlayer"])),{},{initProgressBar:function(){this.playedPercent="0",this.$refs.totalTime.innerHTML="00:00",this.$refs.currentTime.innerHTML="00:00"},touchstart:function(t){this.touch.initialed=!0,this.touch.startX=t.touches[0].pageX,this.touch.left=this.$refs.progress.clientWidth,console.log(this.touch)},touchmove:function(t){if(this.touch.initialed){var e=t.touches[0].pageX-this.touch.startX;console.log(e,this.$refs.dot.offsetWidth);var n=Math.min(this.$refs.progressBar.clientWidth-this.$refs.dot.offsetWidth,Math.max(0,this.touch.left+e));this.playedPercent="".concat((n/(this.$refs.progressBar.clientWidth-this.$refs.dot.offsetWidth)*100).toFixed(0),"%")}},touchend:function(){this.touch.initialed=!1,this.$emit("changeProgress",this.playedPercent)},play:function(){this.setPlayStatus(!this.isPlaying)},toggleSonglist:function(){this.$emit("toggleSonglist",!0)},playNext:function(){this.setCurrentIndex(this.currentIndex+1),this.songlist&&!this.currentPlaying.url&&this.playNext()},playBefore:function(){this.setCurrentIndex(this.currentIndex-1),this.songlist&&!this.currentPlaying.url&&this.playBefore()}}),computed:Object(A["a"])({},Object(T["c"])(["isPlaying","currentIndex","songlist","currentPlaying"])),watch:{currentTime:function(t){var e=Object(V["c"])(1e3*t);this.$refs.currentTime.innerHTML="".concat(e.minutes,":").concat(e.seconds),this.playedPercent="".concat((t/this.totalTime*100).toFixed(0),"%")},totalTime:function(t){var e=Object(V["c"])(1e3*t);this.$refs.totalTime.innerHTML="".concat(e.minutes,":").concat(e.seconds)},currentIndex:function(){this.initProgressBar()}}},W=Y,H=(n("c01b"),Object(f["a"])(W,F,Z,!1,null,"e0189808",null)),q=H.exports,K=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"player-songlist"},[n("div",{staticClass:"list-header"},[n("div",{staticClass:"playing"},[n("span",[t._v("当前播放")]),n("span",[t._v("("+t._s(t.songlist.length)+")")])]),n("div",{staticClass:"list-toolbar"},[n("div",{staticClass:"play-mode",on:{click:t.changeMode}},[n("i",{staticClass:"iconfont",class:t.mode}),n("span",[t._v(t._s(t.changeModeText))])]),n("div",{staticClass:"add-collection",on:{click:t.addToList}},[n("i",{staticClass:"iconfont icon-folder"}),n("span",[t._v("收藏全部")])]),n("i",{staticClass:"iconfont icon-trash",on:{click:function(e){return e.stopPropagation(),t.deleteSong(e)}}})])]),n("div",{staticClass:"wrapper"},[n("scroll",{ref:"scroll",attrs:{refreshDelay:500}},t._l(t.songlist,(function(e,i){return n("div",{key:e.id,staticClass:"list-content",on:{click:function(e){return t.changeSong(i)}}},[n("song-view",[n("i",{directives:[{name:"show",rawName:"v-show",value:t.currentPlaying.id===e.id,expression:"currentPlaying.id === track.id"}],staticClass:"iconfont icon-speaker",class:{active:t.currentPlaying.id===e.id},attrs:{slot:"left"},slot:"left"}),n("div",{staticClass:"track-info",class:{active:t.currentPlaying.id===e.id,disabled:t.songAvailable(i)},attrs:{slot:"center"},slot:"center"},[n("span",{staticClass:"track-name"},[t._v(t._s(e.name))]),n("span",{staticClass:"artist"},[t._v(t._s(e.ar&&t.artists(e.ar)))])]),n("i",{staticClass:"iconfont icon-cross",attrs:{slot:"right"},on:{click:function(e){return e.stopPropagation(),t.deleteSong(i)}},slot:"right"})])],1)})),0)],1),n("div",{staticClass:"list-btn",on:{click:t.toggleSonglist}},[t._v("关闭")])])},J=[],X=n("8d33"),tt=n("c6fb"),et={name:"PlayerSonglist",components:{Scroll:X["a"],SongView:tt["a"]},mixins:[B["b"],B["a"]],methods:Object(A["a"])(Object(A["a"])({},Object(T["b"])(["setPlayStatus","setCurrentIndex","setRemoveSong"])),{},{addToList:function(){this.$emit("addToList")},play:function(){this.setPlayStatus(!this.isPlaying)},toggleSonglist:function(){this.$emit("toggleSonglist",!1)},changeSong:function(t){if("random"===this.playMode){var e=this.songlist[t].id,n=this.shuffledList.findIndex((function(t){return t.id===e}));this.setCurrentIndex(n)}else this.setCurrentIndex(t)},deleteSong:function(t){this.setRemoveSong(t)}}),computed:Object(A["a"])(Object(A["a"])({},Object(T["c"])(["isPlaying","currentPlaying","songlist","currentIndex","shuffledList"])),{},{songAvailable:function(){return function(t){return!this.songlist[t].url}},changeModeText:function(){var t="";switch(this.playMode){case"loop":t="列表循环";break;case"one":t="单曲循环";break;case"random":t="随机播放";break}return t}})},nt=et,it=(n("453c"),Object(f["a"])(nt,K,J,!1,null,"021ee0b9",null)),st=it.exports,at=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"sim-rec"},[n("nav-bar",{staticClass:"nav",attrs:{isDisabled:!0}},[n("i",{staticClass:"iconfont icon-back",attrs:{slot:"left"},on:{click:function(e){return e.stopPropagation(),t.goBack(e)}},slot:"left"}),n("div",{staticClass:"title",attrs:{slot:"center"},slot:"center"},[t._v("相似推荐")])]),t.playlists&&t.playlists.length?n("grid-view",{staticClass:"playlist",attrs:{heading:"包含这首歌的歌单"}},t._l(t.playlists,(function(e){return n("div",{key:e.id,staticClass:"wrapper",attrs:{slot:"content"},on:{click:function(n){return n.stopPropagation(),t.toPlaylist(e.id)}},slot:"content"},[n("div",{staticClass:"img-wrapper"},[n("img",{directives:[{name:"lazy",rawName:"v-lazy",value:t.fmtUrl(e.coverImgUrl),expression:"fmtUrl(item.coverImgUrl)"}]}),n("span",[t._v(t._s(t._f("round")(e.playCount)))])]),n("div",{staticClass:"title"},[n("span",[t._v(t._s(e.name))])])])})),0):t._e(),t.songs&&t.songs.length?n("div",{staticClass:"songs"},[n("div",{staticClass:"heading"},[t._v("喜欢这首歌的人也听")]),t._l(t.songs,(function(e,i){return n("div",{key:e.id,staticClass:"song-wrapper"},[n("song-view",[n("div",{staticClass:"song",attrs:{slot:"center"},on:{click:function(n){return t.play(e)}},slot:"center"},[n("div",{staticClass:"title"},[t._v(t._s(e.name))]),n("span",{staticClass:"artist"},[t._v(t._s(t.artists(e.artists)))]),n("span",{staticClass:"album"},[t._v(t._s(e.album.name))])]),n("i",{staticClass:"iconfont icon-more--line",attrs:{slot:"right"},on:{click:function(e){return e.stopPropagation(),t.moreOption(i)}},slot:"right"})])],1)}))],2):t._e(),n("transition",{attrs:{name:"slide"}},[n("more-song-options",{directives:[{name:"show",rawName:"v-show",value:t.song&&Object.keys(t.song).length,expression:"song && Object.keys(song).length"}],ref:"trackPopUp",attrs:{song:t.song},on:{minimizePlayer:t.minimizePlayer}})],1)],1)},ot=[],rt=(n("a15b"),n("d81d"),n("b0c0"),n("e47a")),ct=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"grid"},[n("div",{staticClass:"header"},[t._v(t._s(t.heading))]),n("div",{staticClass:"grid-wrapper"},[t._t("content")],2)])},lt=[],ut={name:"GridView",props:{heading:{type:String,default:""}}},dt=ut,ft=(n("192c"),Object(f["a"])(dt,ct,lt,!1,null,"30a12844",null)),ht=ft.exports,pt=n("5d86"),gt=n("6ae1"),mt={name:"PlayerSimRecommend",components:{NavBar:rt["a"],GridView:ht,SongView:tt["a"],MoreSongOptions:gt["a"]},mixins:[B["g"],B["d"],B["b"],B["f"]],data:function(){return{playlists:[],songs:[],song:{},showMoreTrackOption:!1}},created:function(){var t=this;Object(pt["f"])(this.id).then((function(e){t.playlists=e.playlists})),Object(pt["g"])(this.id).then((function(e){t.songs=e.songs}))},props:{id:{type:Number,required:!0}},computed:Object(A["a"])({},Object(T["c"])(["songlist","currentIndex","isLogin"])),methods:Object(A["a"])(Object(A["a"])({},Object(T["b"])(["setShowPlayer"])),{},{goBack:function(){this.$emit("closeRecommend")},minimizePlayer:function(){this.goBack(),this.setShowPlayer(!1)},play:function(t){var e=[];e.push({id:t.id,name:t.name,al:{picUrl:t.album.picUrl},ar:[{name:t.artists.map((function(t){return t.name})).join(" / ")}]}),this.goBack(),this.playSong(e)},toPlaylist:function(t){this.minimizePlayer(),this.$router.push("/playlists/".concat(t))},moreOption:function(t){var e=this.songs[t];this.song={id:e.id,name:e.name,al:e.album,ar:e.artists},this.$refs.trackPopUp.showMore=!0}})},bt=mt,vt=(n("69fe"),Object(f["a"])(bt,at,ot,!1,null,"1866fdf4",null)),yt=vt.exports,kt=n("589d"),Pt=n.n(kt),wt=(n("2d7c"),n("aaf6")),Ct=n.n(wt),xt={name:"Player",mixins:[B["b"],B["d"],B["c"]],components:{NavBar:rt["a"],PlayerCd:U,PlayerToolbar:z,PlayerControls:q,PlayerSonglist:st,SimRecommend:yt,MoreSongOptions:gt["a"]},data:function(){return{bgVar:{"--bg":"","--opacity":0},songlistToggler:!1,audio:null,currentTime:0,totalTime:0,ready:!1,playedPosition:0,scrolled:!1,bgColor:"white",showRecommend:!1,showMoreOption:!1}},mounted:function(){var t=this;this.audio=this.$refs.audio;var e=new MutationObserver((function(){t.audio.src&&t.audio.src.includes("mp3")&&(t.setPlayStatus(!1),t.ready=!1,t.audio.ondurationchange=function(){console.log(" --- get duration ---"),t.currentTime=0,t.totalTime=t.audio.duration,t.audio.play()},t.audio.onprogress=function(){console.log(" --- on progress ---"),t.audio.readyState<4&&t.audio.play()},t.audio.oncanplaythrough=function(){console.log(" --- can playthrough ---"),t.setPlayStatus(!0),t.ready=!0})})),n={childList:!0,subtree:!0,attributeFilter:["src"]};e.observe(this.$refs.audio,n)},methods:Object(A["a"])(Object(A["a"])({},Object(T["b"])(["setShowPlayer","setPlayStatus","setShuffledList","setHistorySong","setHistoryList"])),{},{share:function(){console.log(this.$refs.trackPopUp.share())},addToList:function(){this.toggleSonglist(!1);var t=this.getTrackIds(this.songlist);this.$refs.trackPopUp.selectPlaylist("",t)},recommend:function(){this.showRecommend=!this.showRecommend},minimizePlayer:function(){this.$refs.trackPopUp.showMore=!1,this.setShowPlayer(!1)},moreOption:function(){this.$refs.trackPopUp.showMore=!0},changeProgress:function(t){this.audio.currentTime=t.slice(0,-1)/100*this.totalTime},end:function(){"loop"===this.playMode?this.$refs.controls.playNext():"one"===this.playMode?(this.audio.currentTime=0,this.audio.play()):(this.isPlaying||this.unshuffle(),this.$refs.controls.playNext())},toggleSonglist:function(t){this.songlistToggler=t},goBack:function(){this.setShowPlayer(!1)},screenClick:function(t){if(this.songlistToggler){var e=this.$refs.songlist.$el.offsetTop;t.clientY<e&&this.toggleSonglist(!1)}},timeUpdate:function(t){this.scrolled||(this.currentTime=t.target.currentTime)},unshuffle:function(){var t=this,e=this.songlist.findIndex((function(e){return e.id===t.currentPlaying.id}));console.log(e),this.setCurrentIndex(e)},enter:function(t,e){Pt()(t,"transition.shrinkIn",{duration:500},(function(){e()}))},leave:function(t,e){Pt()(t,"transition.shrinkOut",{duration:500},(function(){e()}))}}),computed:Object(A["a"])(Object(A["a"])({},Object(T["c"])(["showPlayer","currentPlaying","songlist","currentIndex","isPlaying","playMode","isLoading","historyList","isLogin"])),{},{song:function(){var t="";return this.currentPlaying&&this.songlist&&this.songlist.length>0&&(this.currentPlaying.url||(console.log("no url"),1===this.songlist.length?(console.log("1111"),this.$toast.show("很抱歉,这首歌暂时没有音源。为您返回上一页",1e3),this.goBack()):(console.log("2222"),this.$toast.show("很抱歉,这首歌暂时没有音源。为您播放下一首",1e3),this.$refs.controls.playNext())),t=this.fmtUrl(this.currentPlaying.url)),t}}),watch:{currentPlaying:{handler:function(t){var e=this;if(t&&Object.keys(t).length>0){var n=document.createElement("img");n.src=t.al.picUrl,n.crossOrigin="anonymous",n.addEventListener("load",(function(){function i(t){return s.apply(this,arguments)}function s(){return s=Object(I["a"])(regeneratorRuntime.mark((function t(e){var n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,Ct()(e,{ignore:["rgb(255,255,255)","rgb(0,0,0)"]},{scale:.1});case 2:return n=t.sent,t.abrupt("return",n[0].color);case 4:case"end":return t.stop()}}),t)}))),s.apply(this,arguments)}console.log("img load"),e.bgVar["--bg"]='url("'.concat(e.fmtUrl(t.al.picUrl+"?param=50y50"),'")'),e.bgVar["--opacity"]=1,i("".concat(n.src,"?param=50y50")).then((function(t){e.bgColor=t})),n=null}))}}},songlist:function(t,e){var n=this;if(0===t.length&&(this.audio.pause(),this.toggleSonglist(!1),this.setShowPlayer(!1)),t!==e&&"random"===this.playMode){var i=Object(V["e"])(this.songlist),s=i.findIndex((function(t){return t.id===n.songlist[n.currentIndex].id})),a=[i[s],i[this.currentIndex]];i[this.currentIndex]=a[0],i[s]=a[1],this.setShuffledList(i)}},isPlaying:function(t){var e=this;t&&this.audio.src.includes("mp3")?(this.audio.play(),this.isLogin&&this.setHistorySong(this.currentPlaying)):this.audio.play().then((function(){e.audio.pause()}))},historyList:function(t){console.log(t),window.localStorage.setItem("historyList",JSON.stringify(t))},playMode:function(t){var e=this;if("random"===t){var n=Object(V["e"])(this.songlist),i=n.findIndex((function(t){return t.id===e.songlist[e.currentIndex].id})),s=[n[i],n[this.currentIndex]];n[this.currentIndex]=s[0],n[i]=s[1],this.setShuffledList(n)}}}},Ot=xt,jt=(n("61f9"),Object(f["a"])(Ot,O,j,!1,null,"6932ce98",null)),It=jt.exports,At={name:"App",data:function(){return{keepAliveComp:["Recommend","PlaylistSquare"],transitionName:""}},components:{TabBar:x,Player:It},watch:{$route:function(t,e){t.meta.index>e.meta.index?this.transitionName="right":this.transitionName="left"}}},_t=At,Et=(n("5c0b"),Object(f["a"])(_t,s,a,!1,null,null,null)),Tt=Et.exports,Bt=(n("d3b7"),n("8c4f")),St=function(){return Promise.all([n.e("chunk-3f9b6ab4"),n.e("chunk-01bab143")]).then(n.bind(null,"a3cb"))},Mt=function(){return n.e("chunk-0f6a54c6").then(n.bind(null,"c54d"))},Rt=function(){return n.e("chunk-2d0e9952").then(n.bind(null,"8dc3"))},Ut=function(){return Promise.all([n.e("chunk-3f9b6ab4"),n.e("chunk-09281478")]).then(n.bind(null,"72ad"))},Lt=function(){return n.e("chunk-72db2e66").then(n.bind(null,"187e"))},Qt=function(){return n.e("chunk-0cdbbbde").then(n.bind(null,"df28"))},Dt=function(){return n.e("chunk-36e4781a").then(n.bind(null,"bfc5"))},Nt=function(){return n.e("chunk-21e8da79").then(n.bind(null,"99721"))},$t=function(){return Promise.all([n.e("chunk-3f9b6ab4"),n.e("chunk-304f8ada")]).then(n.bind(null,"3bac"))},Gt=function(){return n.e("chunk-a6fc34ac").then(n.bind(null,"c520"))},zt=function(){return n.e("chunk-3cf34bbb").then(n.bind(null,"2210"))},Ft=function(){return Promise.all([n.e("chunk-3f9b6ab4"),n.e("chunk-f8b92056")]).then(n.bind(null,"cb80"))},Zt=function(){return n.e("chunk-7228dac2").then(n.bind(null,"a3f2"))},Vt=function(){return Promise.all([n.e("chunk-3f9b6ab4"),n.e("chunk-4e910b9f")]).then(n.bind(null,"375e"))},Yt=function(){return n.e("chunk-5c7b4871").then(n.bind(null,"b827"))},Wt=function(){return n.e("chunk-eea8591a").then(n.bind(null,"9949"))},Ht=function(){return n.e("chunk-4feca4f2").then(n.bind(null,"937d"))};i["default"].use(Bt["a"]);var qt,Kt=[{path:"",redirect:"/recommend"},{path:"/song/:id",component:Rt},{path:"/recommend",component:St,name:"recommend",meta:{index:0},children:[{path:"songs",component:Mt,meta:{index:1}}]},{path:"/toplist",component:zt,name:"toplist",meta:{index:1}},{path:"/radio",component:Ut,name:"radio",meta:{index:0},children:[{name:"radio-category",path:"category",component:Lt,meta:{index:1}},{path:"toplist",component:Qt,meta:{index:1}},{path:"program/:id",component:Dt,meta:{index:1}}]},{path:"/artist",name:"artist",component:Wt,meta:{index:1},children:[{path:":id",component:Ht,name:"artist-info",meta:{index:2}}]},{path:"/playlists",component:$t,name:"playlist-square",meta:{index:1},children:[{name:"playlist-category",path:"category",meta:{index:2},component:Gt}]},{path:"/playlists/:id",component:Nt,name:"playlist",meta:{index:2}},{path:"/album/:id",component:Yt,meta:{index:1},name:"album"},{path:"/search",component:Ft,name:"search",meta:{index:1}},{path:"/account",component:Zt,name:"account",meta:{index:0}},{path:"/user",component:Vt,name:"my-music",meta:{index:0}}],Jt=new Bt["a"]({mode:"hash",routes:Kt}),Xt=Jt,te=(n("7db0"),n("a434"),n("ade3")),ee="set_show_player",ne="set_playing_status",ie="set_play_list",se="set_shuffled_list",ae="set_current_index",oe="set_remove_song",re="set_play_mode",ce="set_loading",le="set_login",ue="set_cookie",de="set_user_profile",fe="set_history_list",he="set_history_song",pe=n("c30c"),ge=(qt={},Object(te["a"])(qt,ue,(function(t,e){t.cookie=e})),Object(te["a"])(qt,ae,(function(t,e){t.songlist&&e===t.songlist.length?e=0:e<0&&(e=t.songlist.length-1),t.currentIndex=e})),Object(te["a"])(qt,fe,(function(t,e){t.historyList=e})),Object(te["a"])(qt,he,(function(t,e){var n=t.historyList.find((function(t){return console.log(t.id,e.id),t.id===e.id}));console.log(n),n||(console.log("add"),t.historyList.push(e))})),Object(te["a"])(qt,ce,(function(t,e){t.isLoading=e})),Object(te["a"])(qt,le,(function(t,e){t.isLogin=e})),Object(te["a"])(qt,ie,(function(t,e){t.songlist=e})),Object(te["a"])(qt,re,(function(t,e){t.playMode=pe["a"][e]})),Object(te["a"])(qt,ne,(function(t,e){t.isPlaying=e})),Object(te["a"])(qt,oe,(function(t,e){"number"===typeof e?t.songlist.splice(e,1):t.songlist.splice(0,t.songlist.length)})),Object(te["a"])(qt,ee,(function(t,e){t.showPlayer=e})),Object(te["a"])(qt,se,(function(t,e){t.shuffledList=e})),Object(te["a"])(qt,de,(function(t,e){t.profile["uid"]=e.userId,t.profile["nickname"]=e.nickname,t.profile["avatar"]=e.avatarUrl})),qt);function me(t){var e=t.map((function(t){return t.id})).join(",");return e}var be={setCurrentIndex:function(t,e){var n=t.commit;n(ae,e)},setHistoryList:function(t,e){var n=t.commit;n(fe,e)},setHistorySong:function(t,e){var n=t.commit;n(he,e)},setIsLoading:function(t,e){var n=t.commit;n(ce,e)},setLogout:function(t,e){return Object(I["a"])(regeneratorRuntime.mark((function n(){var i,s;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return i=t.commit,s=!1,n.next=4,Object(D["j"])().then((function(t){200===t.code&&(s=!0,i(le,e),i(ue,""),i(de,{}))}));case 4:return n.abrupt("return",s);case 5:case"end":return n.stop()}}),n)})))()},setPlayMode:function(t,e){var n=t.commit;n(re,e)},setPlayStatus:function(t,e){var n=t.commit;n(ne,e)},setRemoveSong:function(t,e){var n=t.commit;n(oe,e)},setShowPlayer:function(t,e){var n=t.commit;n(ee,e)},setShuffledList:function(t,e){var n=t.commit;n(se,e)},setUserProfile:function(t,e){var n=t.commit;n(de,e)},setLogin:function(t,e){return Object(I["a"])(regeneratorRuntime.mark((function n(){var i,s,a;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return i=t.commit,n.next=3,Object(D["i"])(e.email,e.password).then((function(t){console.log(t),502===t.code?(s=t.msg,a=!1):501===t.code?(s="您输入的邮箱未验证",a=!1):200===t.code&&(s="登录成功",i(ue,t.cookie),i(de,t.profile),a=!0)}));case 3:return i(le,a),n.abrupt("return",s);case 5:case"end":return n.stop()}}),n)})))()},setPlayList:function(t,e){return Object(I["a"])(regeneratorRuntime.mark((function n(){var i,s,a,o,r;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return i=t.commit,s=t.state,o=s.isLogin?s.cookie:"",n.next=4,Object(pt["h"])(me(e),o).then((function(t){a=t.data}));case 4:r=e.map((function(t){return Object(A["a"])(Object(A["a"])({},a.find((function(e){return e.id===t.id&&e}))),t)})),i(ie,r),i(ce,!1);case 7:case"end":return n.stop()}}),n)})))()}},ve={cookie:function(t){return t.cookie},currentIndex:function(t){return t.currentIndex},currentPlaying:function(t){if(!t.isLoading){if(t.songlist&&"random"!==t.playMode)return t.songlist[t.currentIndex];if("random"===t.playMode&&t.shuffledList)return console.log("----- shuffle song -----"),t.shuffledList[t.currentIndex]}},historyList:function(t){return t.historyList},isLoading:function(t){return t.isLoading},isLogin:function(t){return t.isLogin},isPlaying:function(t){return t.isPlaying},playMode:function(t){return t.playMode},showPlayer:function(t){return t.showPlayer},shuffledList:function(t){return t.shuffledList},songlist:function(t){return t.songlist},profile:function(t){return t.profile}},ye={showPlayer:!1,isLoading:!0,isPlaying:!1,songlist:null,shuffledList:null,currentIndex:0,playMode:pe["a"][0],historyList:[],isLogin:!1,cookie:"",profile:{}};i["default"].use(T["a"]);var ke=new T["a"].Store({state:ye,mutations:ge,actions:be,getters:ve,modules:{}}),Pe=n("fe3c"),we=n.n(Pe),Ce=(n("2ea5"),n("caf9")),xe=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("transition",{attrs:{name:"fade"}},[t.isShow?n("div",{staticClass:"toast"},[n("div",{staticClass:"text"},[t._v(t._s(t.text))])]):t._e()])},Oe=[],je=(n("4795"),{name:"Toast",data:function(){return{text:"",isShow:!1}},methods:{show:function(t,e){var n=this;this.isShow=!0,this.text=t,setTimeout((function(){n.isShow=!1,n.text=""}),e)}}}),Ie=je,Ae=(n("95b2"),Object(f["a"])(Ie,xe,Oe,!1,null,"f34c4e14",null)),_e=Ae.exports,Ee={install:function(t){console.log("toast installed");var e=t.extend(_e),n=new e,i=document.createElement("div");document.body.appendChild(i),n.$mount(i),t.prototype.$toast=n}},Te=Ee,Be=n("4eb5"),Se=n.n(Be);we.a.attach(document.body),i["default"].config.productionTip=!1,i["default"].use(Ce["a"],{loading:n("cfcf")}),i["default"].use(Te),i["default"].use(Se.a),new i["default"]({router:Xt,store:ke,render:function(t){return t(Tt)}}).$mount("#app")},"574f":function(t,e,n){"use strict";var i=n("71f0"),s=n.n(i);s.a},"5c0b":function(t,e,n){"use strict";var i=n("9c0c"),s=n.n(i);s.a},"5d86":function(t,e,n){"use strict";n.d(e,"a",(function(){return s})),n.d(e,"e",(function(){return a})),n.d(e,"d",(function(){return o})),n.d(e,"j",(function(){return r})),n.d(e,"h",(function(){return c})),n.d(e,"b",(function(){return l})),n.d(e,"c",(function(){return u})),n.d(e,"i",(function(){return d})),n.d(e,"g",(function(){return f})),n.d(e,"f",(function(){return h}));n("6eba"),n("0d03");var i=n("3311");function s(t){return Object(i["a"])({url:"/banner",params:{type:t}})}function a(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:30,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;return Object(i["a"])({url:"/top/playlist",params:{cat:decodeURIComponent(t),limit:e,offset:n}})}function o(t){return Object(i["a"])({url:"/playlist/detail?timestamps=".concat(Date.now()),method:"post",params:{id:t}})}function r(t){return Object(i["a"])({url:"/song/detail",params:{ids:t}})}function c(t,e){return Object(i["a"])({url:"/song/url",params:{id:t,cookie:e}})}function l(t){return Object(i["a"])({url:"/recommend/songs?timestamps=".concat(Date.now()),method:"post",params:{cookie:t}})}function u(){return Object(i["a"])({url:"/playlist/catlist"})}function d(){return Object(i["a"])({url:"/toplist/detail"})}function f(t){return Object(i["a"])({url:"/simi/song",params:{id:t}})}function h(t){return Object(i["a"])({url:"/simi/playlist",params:{id:t}})}},"61f9":function(t,e,n){"use strict";var i=n("ee6e"),s=n.n(i);s.a},6309:function(t,e,n){},"66cd":function(t,e,n){"use strict";var i=n("1014"),s=n.n(i);s.a},"69fe":function(t,e,n){"use strict";var i=n("74d8"),s=n.n(i);s.a},"6ae1":function(t,e,n){"use strict";var i=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"more-song-options"},[n("transition",{attrs:{name:"slide"}},[t.song&&Object.keys(t.song).length?n("popup",{directives:[{name:"show",rawName:"v-show",value:t.showMore,expression:"showMore"}],attrs:{popUpHeight:-1},on:{togglePopUp:t.togglePopUp}},[n("div",{staticClass:"option-header"},[n("song-view",[n("img",{attrs:{slot:"left",src:t.fmtUrl(t.song.al.picUrl)},slot:"left"}),n("div",{staticClass:"song",attrs:{slot:"center"},slot:"center"},[n("div",{staticClass:"title"},[t._v(t._s(t.song.name))]),n("span",{staticClass:"artist"},[t._v(t._s(t.artists(t.song.ar)))])])])],1),n("div",{staticClass:"option-wrapper"},[(t.currentPlaying?t.song.id!==t.currentPlaying.id:Object.keys(t.song).length)?n("div",{staticClass:"play-next",on:{click:function(e){return e.stopPropagation(),t.addToPlayer(e)}}},[n("i",{staticClass:"iconfont icon-add-next"}),n("span",[t._v("下一首播放")])]):t._e(),n("div",{staticClass:"add-playlist",on:{click:function(e){return e.stopPropagation(),t.selectPlaylist(e)}}},[n("i",{staticClass:"iconfont icon-folder"}),n("span",[t._v("收藏到歌单")])]),(t.currentPlaying?t.song.id!==t.currentPlaying.id:Object.keys(t.song).length)?n("div",{staticClass:"comment",on:{click:function(e){return e.stopPropagation(),t.noFunc(e)}}},[n("i",{staticClass:"iconfont icon-comment"}),n("span",[t._v("评论")])]):t._e(),(t.currentPlaying?t.song.id!==t.currentPlaying.id:Object.keys(t.song).length)?n("div",{staticClass:"share",on:{click:function(e){return e.stopPropagation(),t.share(e)}}},[n("i",{staticClass:"iconfont icon-share"}),n("span",[t._v("分享")])]):t._e(),n("div",{staticClass:"artist",on:{click:t.goToArtist}},[n("i",{staticClass:"iconfont icon-artist"}),n("span",[t._v("歌手: "+t._s(t.artists(t.song.ar)))])]),n("div",{staticClass:"album",on:{click:t.goToAlbum}},[n("i",{staticClass:"iconfont icon-album"}),n("span",[t._v("专辑: "+t._s(t.song.al.name))])])])]):t._e()],1),n("transition",{attrs:{name:"slide"}},[n("popup",{directives:[{name:"show",rawName:"v-show",value:t.showUserPlaylist,expression:"showUserPlaylist"}],ref:"userPlaylist",on:{togglePopUp:t.togglePopUp}},[n("div",{staticClass:"playlist-header"},[n("span",[t._v("收藏到歌单")]),n("div",{staticClass:"btn"},[n("i",{staticClass:"iconfont icon-plus"}),n("span",{on:{click:t.createPlaylist}},[t._v("新建歌单")])])]),n("scroll",{ref:"scroll",style:{"--height":t.offsetTop+"px"}},[t.loading&&t.isLogin?n("loading",{attrs:{isShow:t.loading}}):t._e(),t._l(t.userPlaylists,(function(e){return n("div",{key:e.id,staticClass:"playlist-wrapper",on:{click:function(n){return n.stopPropagation(),t.addToPlaylist(e.id,t.ids?t.ids:t.song.id)}}},[n("song-view",[n("img",{attrs:{slot:"left",src:t.fmtUrl(e.coverImgUrl)},slot:"left"}),n("div",{staticClass:"song",attrs:{slot:"center"},slot:"center"},[n("div",{staticClass:"title"},[t._v(t._s(e.name))]),n("span",{staticClass:"artist"},[t._v(t._s(e.trackCount+"首"))])])])],1)}))],2)],1)],1),n("transition",{attrs:{name:"slide"}},[n("popup",{directives:[{name:"show",rawName:"v-show",value:t.showCreatePlaylist,expression:"showCreatePlaylist"}],attrs:{popUpHeight:-1},on:{togglePopUp:t.togglePopUp}},[n("div",{staticClass:"input-header"},[n("span",{on:{click:t.togglePopUp}},[t._v("取消")]),n("span",{staticClass:"title"},[t._v("新建歌单")]),n("span",{on:{click:t.submit}},[t._v("完成")])]),n("input",{directives:[{name:"model",rawName:"v-model",value:t.playlistName,expression:"playlistName"}],attrs:{type:"text",placeholder:"歌单标题"},domProps:{value:t.playlistName},on:{input:function(e){e.target.composing||(t.playlistName=e.target.value)}}})])],1)],1)},s=[],a=(n("99af"),n("4de4"),n("45fc"),n("a434"),n("b0c0"),n("4795"),n("96cf"),n("1da1")),o=n("2909"),r=n("5530"),c=n("8d33"),l=n("d441"),u=n("c6fb"),d=n("2f62"),f=n("eecb"),h=n("d324"),p={name:"MoreSongOptions",mixins:[f["b"],f["d"],f["f"],f["e"]],components:{Scroll:c["a"],SongView:u["a"],Popup:l["a"]},updated:function(){this.showUserPlaylist&&(console.log(this.$refs.userPlaylist),this.offsetTop=this.$refs.userPlaylist.$refs.popup.offsetTop)},data:function(){return{playlistName:"",ids:"",userPlaylists:[],offsetTop:0,showMore:!1,showUserPlaylist:!1,showCreatePlaylist:!1}},props:{song:{type:Object,default:function(){}}},watch:{userPlaylists:function(){this.$nextTick((function(){this.loading=!1}))}},computed:Object(r["a"])({},Object(d["c"])(["songlist","currentIndex","isLogin","cookie","profile","currentPlaying"])),methods:Object(r["a"])(Object(r["a"])({},Object(d["b"])(["setPlayList"])),{},{noFunc:function(){this.$toast.show("暂时还没完成哦",500)},togglePopUp:function(){this.showMore=!1,this.showUserPlaylist=!1,this.showCreatePlaylist=!1},share:function(){var t=this,e="分享".concat(this.artists(this.song.ar),"的单曲 ").concat("«"+this.song.name+"»"," https://syhua4.github.io/pear-music-app/#/song/").concat(this.song.id);this.$copyText(e).then((function(){t.$toast.show("复制链接成功",1e3)}),(function(){t.$toast.show("复制链接失败, 请重试",1e3)}))},goToArtist:function(){this.$emit("minimizePlayer"),1===this.song.ar.length&&this.$router.push("/artist/".concat(this.song.ar[0].id))},goToAlbum:function(){this.$emit("minimizePlayer"),this.$router.push("/album/".concat(this.song.al.id))},addToPlayer:function(t,e){var n=this,i=e||[this.song];if(console.log(i),this.songlist&&this.songlist.length){var s=i.filter((function(t){return!n.songlist.some((function(e){return t.id===e.id}))}));if(s.length){var a=Object(o["a"])(this.songlist);a.splice.apply(a,[this.currentIndex+1,0].concat(Object(o["a"])(s))),this.setPlayList(a),this.$toast.show("已添加到播放列表",500)}}else this.playSong(i)},selectPlaylist:function(t,e){var n=this;return Object(a["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(n.ids=e,n.togglePopUp(),!n.isLogin){t.next=8;break}return t.next=5,n.getUserPlaylist();case 5:n.showUserPlaylist=!0,t.next=9;break;case 8:n.$toast.show("请先登录",500);case 9:case"end":return t.stop()}}),t)})))()},getUserPlaylist:function(){var t=this;Object(h["f"])(this.profile.uid,this.cookie).then((function(e){t.userPlaylists=e.playlist.filter((function(e){return e.creator.userId===t.profile.uid}))}))},addToPlaylist:function(t,e){var n=this;return Object(a["a"])(regeneratorRuntime.mark((function i(){return regeneratorRuntime.wrap((function(i){while(1)switch(i.prev=i.next){case 0:return i.next=2,Object(h["a"])("add",t,e,n.cookie).then((function(t){200===t.code?(n.$toast.show("已收藏到歌单",1e3),n.getUserPlaylist(),n.ids="",setTimeout((function(){n.togglePopUp()}),500)):(t.code,n.$toast.show(t.message,1e3))}));case 2:case"end":return i.stop()}}),i)})))()},createPlaylist:function(){this.togglePopUp(),this.showCreatePlaylist=!0},submit:function(){var t=this;return Object(a["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,Object(h["b"])(t.playlistName,t.cookie).then((function(e){200===e.code?t.addToPlaylist(e.id,t.ids?t.ids:t.song.id):t.$toast.show("创建歌单失败, 请重试",1e3)}));case 2:t.togglePopUp();case 3:case"end":return e.stop()}}),e)})))()}})},g=p,m=(n("0b86"),n("2877")),b=Object(m["a"])(g,i,s,!1,null,"db60500a",null);e["a"]=b.exports},"6c1b":function(t,e,n){"use strict";var i=n("3849"),s=n.n(i);s.a},"6dda":function(t,e,n){},"71f0":function(t,e,n){},"74d8":function(t,e,n){},"75b0":function(t,e,n){"use strict";var i=n("00f5"),s=n.n(i);s.a},"7b72":function(t,e,n){"use strict";var i=n("158a"),s=n.n(i);s.a},"83cf":function(t,e,n){},"8d33":function(t,e,n){"use strict";var i=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{ref:"wrapper",staticClass:"scroll-wrapper"},[n("div",{staticClass:"scroll-content"},[t._t("default"),t.loading&&t.pullUpload?n("loading",{attrs:{isShow:t.loading}}):t._e()],2)])},s=[],a=(n("a9e3"),n("4795"),n("eecb")),o=n("1fba"),r={name:"Scroll",mixins:[a["e"]],props:{probeType:{type:Number,default:0},pullUpload:{type:Boolean,default:!1},refreshDelay:{type:Number,default:0}},data:function(){return{scroll:null,noTip:!1}},mounted:function(){var t=this;this.initBscroll();var e=new MutationObserver((function(){t.refresh()})),n={childList:!0,subtree:!0,attributeFilter:["height","offsetHeight"]};e.observe(this.$refs.wrapper,n)},methods:{initBscroll:function(){var t=this;this.$nextTick((function(){t.scroll=new o["a"](t.$refs.wrapper,{probeType:t.probeType,pullUpLoad:t.pullUpload&&{threshold:-50},click:!0,observeDOM:!0,useTransition:!1}),t.probeType>=2&&t.scroll.on("scroll",(function(e){t.$emit("scrolling",e)})),t.pullUpload&&t.scroll.on("pullingUp",(function(){t.$emit("pullUpload")})),!t.scroll.maxScrollY&&t.pullUpload?t.loading=!1:t.scroll.maxScrollY||t.refresh()}))},refresh:function(){console.log("---- refresh ----"),this.scroll&&this.scroll.refresh&&this.scroll.refresh()},getYPosition:function(){return this.scroll?this.scroll.y:0},scrollTo:function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:300;this.scroll&&this.scroll.scrollTo&&this.scroll.scrollTo(t,e,n)},finishPullUp:function(){this.scroll&&this.scroll.finishPullUp&&this.scroll.finishPullUp()}},watch:{refreshDelay:{immediate:!0,handler:function(t){var e=this;0!==t&&setTimeout((function(){e.refresh()}),t)}},pullUpload:{handler:function(t){console.log("exec pullupload"),t&&this.initBscroll()}}}},c=r,l=(n("3645"),n("2877")),u=Object(l["a"])(c,i,s,!1,null,"585f77d4",null);e["a"]=u.exports},"90b9":function(t,e,n){"use strict";n.d(e,"b",(function(){return s})),n.d(e,"c",(function(){return a})),n.d(e,"e",(function(){return o})),n.d(e,"a",(function(){return r})),n.d(e,"d",(function(){return c}));n("c975"),n("0d03"),n("b680"),n("4795");var i=n("2909");function s(t){var e=new Date(1e3*t),n=e.getFullYear(),i=e.getMonth()+1,s=e.getDate();return{year:n,month:i,date:s}}function a(t){var e=Math.floor(t/1e3/60/60/24),n=Math.floor(t/1e3/60/60-24*e),i=Math.floor(t/1e3/60-1440*e-60*n),s=(t/1e3-86400*e-3600*n-60*i).toFixed(0);return n&&(i+=60*n),{minutes:i<10?"0"+i:i,seconds:s<10?"0"+s:s}}function o(t){for(var e=Object(i["a"])(t),n=e.length-1;n>0;n--){var s=Math.floor(Math.random()*(n+1)),a=[e[s],e[n]];e[n]=a[0],e[s]=a[1]}return e}function r(t,e){var n=null;return function(){for(var i=this,s=arguments.length,a=new Array(s),o=0;o<s;o++)a[o]=arguments[o];n&&clearTimeout(n),n=setTimeout((function(){t.apply(i,a)}),e)}}function c(t){var e=/^([A-Za-z0-9_\-.])+@([A-Za-z0-9_\-.])+\.([A-Za-z]{2,4})$/,n="163.com";if(e.test(t)){var i=t.substring(t.indexOf("@")+1);if(n===i)return!0}return!1}},"95b2":function(t,e,n){"use strict";var i=n("c2a7"),s=n.n(i);s.a},"991a":function(t,e,n){},"9c0c":function(t,e,n){},afd7:function(t,e,n){t.exports=n.p+"img/loading.df517a8b.svg"},be06:function(t,e,n){},beb2:function(t,e,n){},c01b:function(t,e,n){"use strict";var i=n("6309"),s=n.n(i);s.a},c161:function(t,e,n){},c2a7:function(t,e,n){},c30c:function(t,e,n){"use strict";n.d(e,"a",(function(){return i}));var i=["loop","one","random"]},c6fb:function(t,e,n){"use strict";var i=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"track",style:{"--padding":t.padding+"px"}},[t._t("left"),n("div",{staticClass:"track-center"},[t._t("center")],2),n("div",{staticClass:"track-right"},[t._t("right")],2)],2)},s=[],a={name:"SongView",props:{padding:{type:String,default:"15"}}},o=a,r=(n("66cd"),n("2877")),c=Object(r["a"])(o,i,s,!1,null,"ff9d6e00",null);e["a"]=c.exports},cfcf:function(t,e){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAMgAAADICAYAAACtWK6eAAAM5UlEQVR4nO3de1MaZx/G8Ws5gwqIoqhYUFSSmk7S9v2/g7TTtImJQRQ8IHKSIAJy2H3+4NkdUPnJIiia6zPDJI2cVL67e+99Q5WPHz9qIKJ7WZ77CRBNMwZCJGAgRAIGQiRgIEQCBkIkYCBEAgZCJGAgRAIGQiRgIEQCBkIkYCBEAgZCJGAgRAIGQiRgIEQCBkIkYCBEAgZCJGAgRAIGQiRgIEQCBkIkYCBEAgZCJGAgRAIGQiRgIEQCBkIkYCBEAgZCJGAgRAIGQiRgIEQCBkIkYCBEAgZCJGAgRAIGQiRgIEQCBkIkYCBEAgZCJGAgRAIGQiRgIEQCBkIkYCBEAgZCJGAgRAIGQiRgIEQCBkIkYCBEAgZCJGAgRAIGQiRgIEQCBkIkYCBEAgZCJGAgRAIGQiRgIEQCBkIkYCBEAgZCJGAgRAIGQiRgIEQCBkIkYCBEAgZCJGAgRAIGQiRgIEQCBkIkYCBEAgZCJGAgRAIGQiRgIEQCBkIAAE3TkM/nsbe3h5ubm+d+OlODgRAAIJfL4fj4GPV6HcfHx8/9dKaG7bmfwCR0Op07l3a7fefP25d3797Bbrc/eP8XFxc4PT2FzWbD+/fvn+A7mrxgMIhcLodms4lKpYLLy0vMz8+P9TFUVYWmaXcuqqoOvOi/v96/3/5dRqPRsT9X3UQC+eeff9DpdCZx1wCAhYUFRKPRe79WKBSQTqdHut9qtWr8oIvFIlKpFCwWC37//XfT93Vzc4PPnz+P9DzMiEajWFhYePT9WCwWrK6uIpVKweVywWIZ38FFq9XCv//+O7b7uy2Xy72sQJ7T3NwcAMBqtcJisfRdrq+vAQB+vx8ejwd2u/3O5bVIJpMol8sj3bbRaODg4MDUbQKBADY2Nu792u0xjaIofZfbv6fei9VqNX6X+t+tVitsNlvfn5MykUA+fPgw9HUTiQQqlQq8Xi+2t7cf/dhOpxN//vnnvV/7+++/oWkaFhcX4fP5Hv1Yoz6Pn01vIFtbWxP/2Y/Tq9uDUFcsFrv331VVxfn5ORRFwerq6tD3d3p6CkVREAqFTG+xewNxOp2mbvvcxhZIpVJBIpF41O3/+usv07d7aVuk53ZycoJCoQBFUTA/Pw+32/3gbZrNJnK5HDRNQ6lUwu7urqkxSm8gDodDvG42m8XZ2RkA4M2bN5iZmRn6cSbh1e1BhjlBIB1f//rrr0O9aF6qUCiEYrEITdNwfHyMeDz+4G3Oz8+haRqA7gkSswN4PRCbzTbWwf9TmEggb9++hcfjGeq6o4xBGo0Gvnz58pin+NNyOp3GKd1qtYpCoYDFxcWB16/VaigUCgAAj8eDlZUV04+pB/LQ3mMavbo9yH0nCFqtFr5//45GowGge3w+MzPzqs5amREKhVAoFGC1Wh8cE5ycnADonnmKRqNQFMXUY6mqina7DYCB3CEd7oTDYSwvL9/5d30S7j6KouCPP/4w9RxarRYSiYQRB9A9ZGg0GgiFQlhaWproacKndnl5icPDw6Guq6oqvn//PtR1NU3D3t7eg9e7ffTwkgfowCtfalKv1/Ht2zfU63V4vV5j66fPzGYyGXz58sU4hKDxMzNAn0Zj24N4vd475/3NzIfolpeX792z9HK5XA/OMZRKJaTTaaiqCrfbjc3NTXz69AkAsL6+jk6ng5OTE7RaLaTTaeTzeYTDYWOicRRPNXs+SCQSweLi4lTNvzCQKdNqtXBycoLLy0sA3YHl9vb2ncOoQCAAr9eLk5MTlEol1Go1lEolI5CFhYWxLOH42TEQwVOOQVRVxcXFBbLZLFRVBdBddhKLxQaOMWw2GzY2NhAIBJDNZhEOh4f5toxB5+0Bq9nZ869fv6JWqwHoLn8ZNLn3kvUG8vXrV1O3/fbtm6nrT2Lx6KvZg3Q6HeRyOSOOUCiE1dXVoc66+Hy+eycb9dWj+logRVHQaDRQKpUA4FFnwYrFohGHxWIZOk6zzAzaR/Hbb7+Je4Zmszmxx34KEw1kUmOQ+9jtdkSjUZyeniISiWB2dtb0fdxWr9exv78/8OujriBVVdWYLQa6Mb/EMzzD2N3dNXV9zqTfMo4FirpBe4KHfPr0Ce12G6FQCGtra8a/D5pRdzgcCAQCI4UMdF8ErVYLQPewbNT7Mevdu3djCbFUKuHo6GgMz2j6jT2Qs7MzZLPZcd9tn1GPNc3OoVitVuM2ZifIBmk2m7i4uDD+e319feDyix8/fuD8/Bybm5svcoA7SDKZxOzsrOkNg6Zpxvh0fX19Ek/tjmffg0y7cYWhOz09NcZJgUBg4B6vXC4jmUwC6K4di8fjr2JC8+zsDOVyGeVyGbVabeB7SO5zdHRknJ0EniaSsQeytrbWd5gyTufn58hkMgO/rr/fY1TZbHbkvd8why/lctn4BVutVnFg7vP5MDs7i2q1inq9jsPDQ2xtbY092KdULBaNn6+iKAgGg6Zuv7q6iqurK7TbbeRyOSiKMrGTGzruQZ5Iu93ueytwOBwWz4IpioKNjQ3s7e2h0+mgUqkgnU4PfKvxMJ5zEvP6+rrv+19fXzd9IsXlcmF7exv7+/vGaX1FUSa2QQYmFEg6nX6W5RvDjDFUVcXR0RHK5TIURcHm5ibS6TTa7TaWl5fRbDZxeXkJh8OBWCw29KrkhxwfHxvzJ3Nzc+IKWp3D4UAkEjFO0xaLRTidzpFW1D6nZrOJZDJp7N2DwaDpvYfO4/Fga2sLiUQCmqYZe6RJRfJT7UFarRYODg6M+YeNjQ34/X5jy6ZvtfUt9v7+/lg+MePy8tI4tLJYLIhEIkPfdn5+HouLi8YGJ5PJwOFwjDTL/xxnsfTFovpZO6/X++ixw9zcHDY3N40xWjabhcPhGDk6yUQCiUQipl4Ew3poDCL58eMH0uk0Wq2WsXT7vhe+oiiIxWJIJpOoVCo4PDxEIBB48JBokJubm77PmQqHw6ZfpOvr66hWq8aK5HQ6DZfL9exzBA9pt9t9K6n1NXHjGEf5/X5Eo1GkUikA3T203W6H3+9/9H33etWreYHubHg6ncbBwQFarRZsNht2dnYQCAQG3sZisWBra8s4DVkqlfD582dks1lTH2ekbz31QyufzzfSVs5isfS9sDRNQzKZNLbK06jT6SCRSKBerwPoHi7etybuMRYWFhAKhYz/Pjo6QrVaHdv9A6/4EEvTNBQKBWQyGeMF6na7sbW1NdScgn6GZHZ2FqlUCp1OB2dnZzg/P0cgEEAwGBTHJ1dXV0ilUsZSC5vNhl9++QWdTqfvA9Nuf3ha77/3foCapmlwu93G4aF+uBiPx6fubax6HPpztdvt2NnZGWoP3Bv9MDGtra2h0WigXC5DVVUkk0nE43G4XK7Rv4EeYw9En5V+LpqmoVwuI5PJ9L1JKhQKYWVlxfSLye/3Y3d3F5lMBoVCAaqqolAooFAowOl0wuv1wufzYW5uzrhvfQvfu7dpt9v477//xvNN/l+tVkM6nR56LuGpzmI1Gg3jZ6/H8dBhpaZpxopq3bCToxsbG9jf30etVoOiKMY80zi8mj1Ip9NBPp9HPp/vWyDncrkQjUYfdbxut9sRiUQQDAZxenqKq6srAN3xRT6fR6lUQjweN5am6Of4e+dUbn/wWe+HofX+2fuBabc/RE3/kLVKpWKMa0qlEtxud9+hxnObmZlBPB434r0vjlQqhWKx2HfY2CsQCAy9MbNYLIjFYkilUohEImNd1zb2QCb5WbXSIL3ZbPaNEaxWK1ZWVrC0tDS2yTWPx4OdnR3UajUjDFVVsbm5eWfd1tLSEiqVChYXF+H3+8f6/vdgMIh6vY58Pg9g+BWzT3kWy+12482bNwO/7vV6USqV+sJQFAUOhwPz8/OmT2U7HA7s7OyYus0wXtQeZGVlZeAPzu12IxaL4eDgAMFgEKFQCDbbZL49j8eDSCSCcDiM6+treL3eO9ex2+14+/btRB4f6J7ZajabCAQC4gmHafVSnrfy8ePH0ddmTCH9/RtmDFrNS/Si9iDDGOU04mv5XxjQ+E3X+UGiKcNAiAQMhEjAQIgEDIRIwECIBAyESMBAiAQMhEjAQIgEDIRIwECIBAyESMBAiAQMhEjAQIgEDIRIwECIBAyESMBAiAQMhEjAQIgEDIRIwECIBAyESMBAiAQMhEjAQIgEDIRIwECIBAyESMBAiAQMhEjAQIgEDIRIwECIBAyESMBAiAQMhEjAQIgEDIRIwECIBAyESMBAiAQMhEjAQIgEDIRIwECIBAyESMBAiAQMhEjAQIgEDIRIwECIBAyESMBAiAQMhEjAQIgEDIRIwECIBAyESMBAiAQMhEjAQIgEDIRIwECIBAyESMBAiAQMhEjAQIgEDIRIwECIBAyESMBAiAQMhEjAQIgEDIRIwECIBAyESMBAiAQMhEjAQIgE/wO2OxfP5H2krQAAAABJRU5ErkJggg=="},d324:function(t,e,n){"use strict";n.d(e,"i",(function(){return s})),n.d(e,"j",(function(){return a})),n.d(e,"g",(function(){return o})),n.d(e,"f",(function(){return r})),n.d(e,"e",(function(){return c})),n.d(e,"h",(function(){return l})),n.d(e,"d",(function(){return u})),n.d(e,"b",(function(){return d})),n.d(e,"c",(function(){return f})),n.d(e,"a",(function(){return h})),n.d(e,"k",(function(){return p}));n("6eba"),n("0d03");var i=n("3311");function s(t,e){return Object(i["a"])({method:"post",url:"/login?timestamps=".concat(Date.now()),params:{email:t,password:e}})}function a(){return Object(i["a"])({url:"/logout"})}function o(t,e){return Object(i["a"])({method:"post",url:"/user/detail",params:{uid:t,cookie:e}})}function r(t,e){return Object(i["a"])({method:"post",url:"/user/playlist?timestamps=".concat(Date.now()),params:{uid:t,cookie:e}})}function c(t,e){return Object(i["a"])({method:"post",url:"/likelist?timestamps=".concat(Date.now()),params:{uid:t,cookie:e}})}function l(t){var e=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],n=arguments.length>2?arguments[2]:void 0;return Object(i["a"])({method:"post",url:"/like?timestamps=".concat(Date.now()),params:{id:t,like:e,cookie:n}})}function u(t){return Object(i["a"])({method:"post",url:"/personal_fm",params:{cookie:t}})}function d(t,e){return Object(i["a"])({method:"post",url:"/playlist/create",headers:{"content-type":"application/x-www-form-urlencoded"},params:{name:t,cookie:e}})}function f(t,e){return Object(i["a"])({method:"post",url:"/playlist/delete",params:{id:t,cookie:e}})}function h(t,e,n,s){return Object(i["a"])({method:"post",url:"/playlist/tracks?timestamps=".concat(Date.now()),params:{op:t,pid:e,tracks:n,cookie:s}})}function p(t,e,n){return Object(i["a"])({method:"post",url:"/playlist/subscribe?timestamps=".concat(Date.now()),params:{t:t,id:e,cookie:n}})}},d441:function(t,e,n){"use strict";var i=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"pop-up-wrapper",style:{"--popup-height":t.popUpHeight+"%"},on:{click:function(e){return e.stopPropagation(),t.closePopUp(e)}}},[n("div",{ref:"popup",staticClass:"pop-up"},[t._t("default")],2)])},s=[],a=(n("a9e3"),{name:"Popup",data:function(){return{offsetTop:0}},props:{popUpHeight:{type:Number,default:45}},methods:{closePopUp:function(t){this.offsetTop=this.$refs.popup.offsetTop,t.clientY<this.offsetTop&&this.$emit("togglePopUp")}}}),o=a,r=(n("ed84"),n("2877")),c=Object(r["a"])(o,i,s,!1,null,"3ea1c9ae",null);e["a"]=c.exports},dcf5:function(t,e,n){},e47a:function(t,e,n){"use strict";var i=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"navbar"},[n("div",{staticClass:"left-nav"},[t._t("left")],2),n("div",{staticClass:"center-nav"},[t._t("center")],2),n("div",{staticClass:"right-nav"},[t._t("right"),n("mini-player",{attrs:{disabled:t.isDisabled}})],2)])},s=[],a=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"mini-player"},[n("img",{directives:[{name:"show",rawName:"v-show",value:t.currentPlaying&&!t.disabled,expression:"currentPlaying && !disabled"}],staticClass:"cd",class:t.isPlaying?null:"paused",attrs:{src:t.currentPlaying&&t.currentPlaying.al.picUrl+"?param=50x50"},on:{click:t.togglePlayer}})])},o=[],r=n("5530"),c=n("2f62"),l={name:"MiniPlayer",props:{disabled:{type:Boolean,default:!1}},methods:Object(r["a"])(Object(r["a"])({},Object(c["b"])(["setShowPlayer"])),{},{togglePlayer:function(){this.setShowPlayer(!0)}}),computed:Object(r["a"])({},Object(c["c"])(["isPlaying","currentPlaying"]))},u=l,d=(n("75b0"),n("2877")),f=Object(d["a"])(u,a,o,!1,null,"5048b027",null),h=f.exports,p={name:"NavBar",components:{MiniPlayer:h},props:{isDisabled:{type:Boolean,default:!1}}},g=p,m=(n("4d18"),Object(d["a"])(g,i,s,!1,null,"0311a696",null));e["a"]=m.exports},e561:function(t,e,n){"use strict";var i=n("beb2"),s=n.n(i);s.a},ed84:function(t,e,n){"use strict";var i=n("83cf"),s=n.n(i);s.a},ee6e:function(t,e,n){},eecb:function(t,e,n){"use strict";n.d(e,"c",(function(){return p})),n.d(e,"g",(function(){return g})),n.d(e,"b",(function(){return m})),n.d(e,"d",(function(){return b})),n.d(e,"a",(function(){return v})),n.d(e,"e",(function(){return y})),n.d(e,"f",(function(){return k})),n.d(e,"h",(function(){return P}));n("c740"),n("4160"),n("c975"),n("d81d"),n("fb6a"),n("a434"),n("b0c0"),n("b680"),n("ac1f"),n("5319"),n("159b");var i=n("5530"),s=n("b85c"),a=n("2f62"),o=n("c30c"),r=function(){var t=this,e=t.$createElement,i=t._self._c||e;return t.isShow?i("div",{staticClass:"loading"},[i("img",{attrs:{src:n("afd7")}}),i("div",{staticClass:"text"},[t._v("正在加载...")])]):t._e()},c=[],l={name:"Loading",props:{isShow:{type:Boolean,default:!0}}},u=l,d=(n("fff7"),n("2877")),f=Object(d["a"])(u,r,c,!1,null,"d6cc3d04",null),h=f.exports,p={data:function(){return{tracks:[]}},methods:{getTrackIds:function(t,e){var n="";void 0!==e&&(t=t.slice(0,e));var i,a=Object(s["a"])(t);try{for(a.s();!(i=a.n()).done;){var o=i.value;n+=o.id+","}}catch(r){a.e(r)}finally{a.f()}return n.slice(0,-1)}}},g={filters:{round:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return t?t>=1e8?(t/1e8).toFixed(e)+"亿":t>=1e4?(t/1e4).toFixed(e)+"万":t:"0"}}},m={computed:{artists:function(){return function(t){var e="";return t.length>1?(t.forEach((function(t){e+=t.name+"/"})),e.slice(0,-1)):t[0].name}}}},b={computed:{fmtUrl:function(){return function(t){var e;return t&&(e=t.replace(/^https?:/,"")),e}}}},v={methods:Object(i["a"])(Object(i["a"])({},Object(a["b"])(["setPlayMode","setCurrentIndex"])),{},{changeMode:function(){var t,e;switch(this.playMode){case o["a"][0]:this.setPlayMode(1);break;case o["a"][1]:this.setPlayMode(2);break;case o["a"][2]:t=this.currentPlaying.id,e=this.songlist.findIndex((function(e){return e.id===t})),this.setCurrentIndex(e),this.setPlayMode(0);break}}}),computed:Object(i["a"])(Object(i["a"])({},Object(a["c"])(["playMode","songlist","currentPlaying"])),{},{mode:function(){return"icon-".concat(this.playMode)}})},y={data:function(){return{loading:!0}},components:{Loading:h}},k={methods:Object(i["a"])(Object(i["a"])({},Object(a["b"])(["setIsLoading","setPlayList","setCurrentIndex","setShowPlayer"])),{},{playSong:function(t,e){e instanceof Event&&(e=0),this.isLoading||this.setIsLoading(!0),this.setPlayList(t),this.setCurrentIndex(e||0),this.setShowPlayer(!0)}}),computed:Object(i["a"])({},Object(a["c"])(["isLoading"]))},P={data:function(){return{checkedList:[]}},methods:{check:function(t){var e=this.checkedList.indexOf(t);-1===e?this.checkedList.push(t):this.checkedList.splice(e,1)},checkAll:function(t){var e=this;this.checkedList=[],console.log(t),t.map((function(t){e.checkedList.push(t.id)}))},unCheckAll:function(){this.checkedList=[]}},watch:{checkedList:{handler:function(t){t.length?this.$emit("isChecked",!0):this.$emit("isChecked",!1)}}}}},f292:function(t,e,n){},fff7:function(t,e,n){"use strict";var i=n("991a"),s=n.n(i);s.a}});